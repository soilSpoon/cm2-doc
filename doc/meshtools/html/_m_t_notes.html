<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CM2 MeshTools SDK: CM2 MeshTools SDK Release Notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">CM2 MeshTools SDK<span id="projectnumber">&#160;5.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_m_t_notes.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CM2 MeshTools SDK Release Notes </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="MT560"></a>
CM2 MeshTools Release 5.6.0</h1>
<p>June, 2025.</p>
<h2 class="doxsection"><a class="anchor" id="MT560caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_56</span> (Windows) and <span class="tt">5.6.0</span> with symlinks from <span class="tt">5.6</span> (Linux, macOS).</li>
<li>New builds with clang 20 and gcc 15.1 on Linux (Fedora 42).</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> and <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> Windows (Visual Studio 2017, 2019, 2022 only) and macOS builds upgraded to OpenCascade 7.9.1.<br  />
 Other builds (Visual Studio 2010, 2015) remain based on OCCT 7.6.0.</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> and <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> Linux builds (clang 20 and gcc 15.1 on F42 only) upgraded to OpenCascade 7.8.0.<br  />
 Other builds (gcc 8.5, gcc 12.2, clang 14) remain based on OCCT 7.6.0.</li>
<li>Visual Studio 2015 deprecated (will be no longer provided in future versions).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT560new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>New <span class="tt">data_type::vertex_H</span> (resp. <span class="tt">curve_H</span>, <span class="tt">surface_H</span>) for user-defined mesh sizes (isotropic) on specific vertices (resp. curves, surfaces).<br  />
 The precedence order is:<ol type="1">
<li><span class="tt">vertex_H</span> (highest precedence).</li>
<li><span class="tt">curve_H</span>.</li>
<li><span class="tt">surface_H</span>.</li>
<li><span class="tt">settings_type::target_h</span> (lowest precedence).</li>
</ol>
Note that the mesher may use reduced mesh sizes in all directions (when <span class="tt">settings_type::chordal_control_type</span> = 1 or 3) or in selected directions (when <span class="tt">settings_type::chordal_control_type</span> = 2 or 4) to honor the <span class="tt">settings_type::max_chordal_error</span> criterion.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a><ul>
<li>New <span class="tt">settings_type::conformation_level</span> (replacing <span class="tt">settings_type::make_conformation_flag</span>, see Breaking Changes below).<br  />
 The value for this setting can be:<ul>
<li>0 : Minimal conformation: nothing specific is done to force conformal joints in the mesh.<br  />
 Non-conformal joints (i.e. quad faces connected to two triangle faces) are possible everywhere in the mesh but many joints can be still be conformal (i.e. quad faces connected to quad faces, triangle faces connected to triangle faces).<br  />
 Equivalent to former <span class="tt">settings_type::make_conformation_flag = false</span>.</li>
<li>1 : Partial conformation: conformal joints are enforced only near the hard quadrangles.<br  />
 Joints elsewhere inside the domain can still be non-conformal.<br  />
 This type of conformation is new in this release.</li>
<li>2+: Full conformation: conformal joints are enforced everywhere in the mesh.<br  />
 Equivalent to former <span class="tt">settings_type::make_conformation_flag = true</span>.</li>
</ul>
</li>
<li>New <span class="tt">settings_type::hard_quads_enforcement_flag</span> to force the recovery of hard quadrangles (as much as possible).<br  />
 If the recovery of all boundary (or any hard embedded) quadrangles isn't a requirement for you and the split into pairs of triangles is acceptable, you can turn off this flag to save nodes, elements and get a better mesh (usually).<br  />
 Conversely, this flag set (<span class="tt">true</span>) together with <span class="tt">settings_type::conformation_level &gt;= 1</span> forces the recovery of all boundary quadrangles.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a2793ace84e060b1b07dd43673095fdf4" title="VIZIR output for solutions at vertices (ASCII sol format).">cm2::meshtools::vizir_sols</a> to output solutions (scalars, vectors, tensors, matrices) for VIZIR (the new name of MEDIT).<br  />
 Note that the <a class="el" href="namespacecm2_1_1meshtools.html#a8b868ed34cc086b411938213c62b5a11" title="MEDIT/VIZIR output of a mesh (INRIA&#39;s format).">cm2::meshtools::medit_output</a>, <span class="tt">cm2::meshtools::medit_vector</span> and <span class="tt">cm2::meshtools::medit_tensor</span> are replaced with their equivalent <span class="tt">vizir</span> functions or deprecated (see Breaking Changes below).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a0d7a8f9a50b1b2449483baa47208a788" title="Generates a structured surface mesh on a parallelepiped with CM2_FACEQ4 elements.">cm2::meshtools2d::mesh_parallelepiped_Q4</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#a06d3bece83b9a88b455b107e3dbe146b" title="Generates a structured surface mesh on a parallelepiped with CM2_FACET3 elements.">cm2::meshtools2d::mesh_parallelepiped_T3</a> to generate structured surface meshes on parallelepipeds with <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba7850ff3c71d4f2ce2e2e03435df33a02" title="4-NODE QUADRANGLE (LINEAR GEOMETRY).">cm2::CM2_FACEQ4</a> or <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba898d71f50678b71f5330f35d3dc406b1" title="3-NODE TRIANGLE (LINEAR GEOMETRY).">cm2::CM2_FACET3</a> elements.</li>
<li>The <a class="el" href="namespacecm2_1_1meshtools2d.html#a039809f2f12d822e9d67854fc1928606" title="Finds an element containing a point in a plane mesh (all-triangle, all-quad or mixed,...">cm2::meshtools2d::get_element_containing_point</a> (no longer experimental) can now search for 3-D points in a surface mesh. <br  />
 Not only for 2-D points in plane meshes. In addition, works now also on quadratic meshes (with caveats).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a38fd9bfe4aa3a2b5ad0eb9ea721fd1a3" title="Finds elements containing a set of points in a plane/surface mesh (all-triangle, all-quad or mixed,...">cm2::meshtools2d::get_elements_containing_points</a> to search for a set of points (2-D or 3-D) in a plane or surface mesh (linear or quadratic).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#a11fdf3f443898de1f4bbe783b7b8ad81" title="Finds elements containing a set of points in a solid mesh (tetrahedrons only, linear or quadratic).">cm2::meshtools3d::get_elements_containing_points</a> to search for a set of points (3-D) in a solid mesh (tetrahedrons only, linear or quadratic).</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>Updated.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT560improv"></a>
Improvements</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>Significant speed-ups when using <span class="tt">settings_type::target_metric</span> and <span class="tt">settings_type::max_gradation</span>, especially with the anisotropic mesh generators (<a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a> can show speed-ups of 300% on large meshes).</li>
<li>Improvements in the shape qualities after the refine step (especially <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>).<br  />
 This has several nice outcomes:<ul>
<li>The mesh sizes (isotropic and anisotropic) are better honored.</li>
<li>It makes the optimization step easier and faster.</li>
<li>The final mesh can be significantly better.</li>
</ul>
</li>
<li>Additional scheme in the optimizers to remove long edges.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a><ul>
<li>Fortified all-quad mode: fewer <span class="tt">CM2_DEGENERATED_ELEMENT</span> errors.</li>
<li>Somewhat faster optimization step (up to 15%) in large meshes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>Improvements in the quality of meshes.</li>
<li>Better generation along curves with high gradients of tangents (see below on <a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a><ul>
<li>Fewer Steiner nodes.</li>
<li>Improved quality of the generated meshes in some cases.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a><ul>
<li>Speed-ups (about 20%) even when <span class="tt">settings_type::target_metric</span> and <span class="tt">settings_type::max_gradation</span> aren't used.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a><ul>
<li>More structured meshes (all-hexes).</li>
<li>More OMP-parallelization (average gain = 15% on a 8-SMT CPU).</li>
<li>Speed-ups in single-thread (average gain = 5%).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: improvements in the size of edges when curves have higher gradients of tangents.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT560fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>The <span class="tt">settings_type::max_gradation</span> wasn't always properly honored (the actual gradations could be excessive).</li>
<li>The <span class="tt">settings_type::load</span> function failed on Linux and macOS.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>The bug in <a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a> (see below) could caused non-optimal meshes.</li>
<li>The bug in <a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a> (see below) could caused strange aligned refinements.</li>
<li>Loop curves couldn't be merged.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>In all-quad mode: failed meshing surfaces when their contour had degenerated curves (segments with the two vertices merged together).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a> (source-code licenses only)<ul>
<li>Could fail or even crash when <span class="tt">settings_type::refine_flag = false</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a><ul>
<li>Could crash with <span class="tt">target_metric</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a><ul>
<li>Spurious splits on regular (non-intersecting) edges sometimes.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="classcm2_1_1meshtools_1_1node__detector.html" title="Node detector.">cm2::meshtools::node_detector</a>: errors when the coordinates matrix has two rows but a greater leading dimension (for instance 3).</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>: elements aren't read when the PID fields are void.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: bug in 3-d metric reduction.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>: non-optimal background mesh generation.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a9e854fbef64f0b85ac27753b8d47ee77" title="Generates a pseudo-structured mesh on a disk quarter (upper-right quarter) with CM2_FACET3 elements.">cm2::meshtools2d::mesh_disk_UR_T3</a>, <a class="el" href="namespacecm2_1_1meshtools2d.html#ab73c0db2bcaf87755c3e4a931474f554" title="Generates a pseudo-structured mesh on a disk quarter (upper-right quarter) with CM2_FACEQ4 elements.">cm2::meshtools2d::mesh_disk_UR_Q4</a>, <a class="el" href="namespacecm2_1_1meshtools2d.html#a3cf569726e9545f928d4be37787f7215" title="Generates a pseudo-structured mesh on a full disk with T3 elements.">cm2::meshtools2d::mesh_disk_T3</a>, <a class="el" href="namespacecm2_1_1meshtools2d.html#ad49a3970edab75684354959ce4bf82b2" title="Generates a pseudo-structured mesh on a full disk with Q4 elements.">cm2::meshtools2d::mesh_disk_Q4</a>: bugs with non-empty initial matrices (coordinates and/or connectivity).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT560breaks"></a>
Breaking changes</h2>
<ul>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a><ul>
<li>Setting <span class="tt">bool no_clamped_edges_flag</span> replaced with <span class="tt">unsigned no_edge_with_nodes_below</span>. <br  />
 With the former flag, users were able to forbid new edges between <em>any</em> two constraint nodes (any nodes of the boundaries or embedded nodes). <br  />
 The new setting allows for a greater freedom over the type of edges to forbid. <br  />
 Consider a case with boundary nodes (in <span class="tt">data_type::connectB</span>) and some embedded nodes (in <span class="tt">data_type::isolated_nodes</span>). <br  />
 Say the nodes are ordered in the <span class="tt">data_type::pos</span> matrix such that the highest boundary node id (say <span class="tt">Nb</span>) is before (i.e. smaller) than any other embedded node ids. <br  />
 Then <span class="tt">no_edge_with_nodes_below = Nb+1</span> forbids any new edge between two boundary nodes but still allows edges between a boundary node and an embedded node or between two embedded nodes. <br  />
 Conversely, if nodes are ordered such that the last embedded node (say with id <span class="tt">Ne</span>) is before any boundary nodes, then <span class="tt">no_edge_with_nodes_below = Ne+1</span> forbids any new edge between two embedded nodes but still allows edges between a boundary node and an embedded node or between two boundary nodes. <br  />
 <span class="tt">no_edge_with_nodes_below = 0</span> (the default) is equivalent to the former default setting <span class="tt">no_clamped_edges_flag = false</span>.<br  />
 <span class="tt">no_edge_with_nodes_below = data.pos.cols()</span> is equivalent to the former setting <span class="tt">no_clamped_edges_flag = true</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>Upgraded to OpenCascade 7.9.1 (except the Visual Studio 2010 and 2015 builds). <br  />
 Note: the OCCT 7.8.0 libs are binary compatible.</li>
<li>The output fields <span class="tt">data_type::color</span>, <span class="tt">data_type::colorE</span>, <span class="tt">data_type::merged_vertices</span>, <span class="tt">data_type::merged_curves</span> and <span class="tt">data_type::failed</span> now follow the CAD indexing scheme.<br  />
 As OOCT has a 1-base indexing scheme, all these fields are 1-shifted vs. the previous version.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (source-code licenses only)<ul>
<li>New requested enum in the CAD interface <span class="tt">cad_interface::INDEX_BASE</span> to specify the indexing scheme (<span class="tt">0</span> or <span class="tt">1</span>).</li>
<li>New requested function in the CAD interface <span class="tt">int cad_interface::orientation (const edge_type&amp; E)</span> to give the orientation (+1, -1 or 0) of an edge.</li>
<li>New requested functions in the CAD interface <span class="tt">bool is_Uclosed (const surface_type&amp; S)</span> and <span class="tt">bool is_Vclosed (const surface_type&amp; S)</span> to help tell whether a surface is periodic or not, on top of <span class="tt">bool is_periodic (const surface_type&amp; S, double&amp; U_period, double&amp; V_period)</span>.</li>
<li>New requested function in the CAD interface <span class="tt">bool periodic_surfaces_supported()</span>, a global function to tell whether the kernel supports periodic surfaces or not.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a><ul>
<li><span class="tt">bool settings_type::make_conformation_flag</span> is replaced with <span class="tt">unsigned settings_type::conformation_level</span>.<br  />
 The former <span class="tt">make_conformation_flag = false</span> is now equivalent to <span class="tt">conformation_level = 0</span>.<br  />
 The former <span class="tt">make_conformation_flag = true</span> is now equivalent to <span class="tt">conformation_level = 2</span>.</li>
<li>The internal formula used to compute the shape-quality of an hexahedron has changed (now gives higher values for elongated elements).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a422acbc0beed54cbefa4cbea34bb539f" title="Computes the shape qualities of all elements of a mesh.">cm2::meshtools::shape_qualities</a>, <a class="el" href="namespacecm2_1_1meshtools.html#ae122f474a1053e242e6e99c76e4a208f" title="Finds the element with minimum shape quality in a mesh.">cm2::meshtools::min_quality</a>: changed values for hexahedrons (the new values are usually higher).</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a8b868ed34cc086b411938213c62b5a11" title="MEDIT/VIZIR output of a mesh (INRIA&#39;s format).">cm2::meshtools::medit_output</a>, <span class="tt">cm2::meshtools::medit_vector</span> and <span class="tt">cm2::meshtools::medit_tensor</span> are replaced with their equivalent <span class="tt">vizir</span> functions (some are just deprecated for the moment).</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a039809f2f12d822e9d67854fc1928606" title="Finds an element containing a point in a plane mesh (all-triangle, all-quad or mixed,...">cm2::meshtools2d::get_element_containing_point</a> (no longer experimental) has gained a new output parameter: the reference coordinates (2-D) of the point in the containing element.</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#ae927d2cdb723ae8974e1a60d78a9f463" title="Finds an element containing a point in a solid mesh (tetrahedrons only, linear or quadratic).">cm2::meshtools3d::get_element_containing_point</a> (no longer experimental) has gained a new output parameter: the reference coordinates (3-D) of the point in the containing element (tetrahedrons only).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT553"></a>
CM2 MeshTools Release 5.5.3</h1>
<p>May, 2025.</p>
<h2 class="doxsection"><a class="anchor" id="MT553caveats"></a>
Caveats</h2>
<ul>
<li>Minor version. Client applications need not to be recompiled against this update.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT553fixes"></a>
Fixes</h2>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT552"></a>
CM2 MeshTools Release 5.5.2</h1>
<p>February, 2025.</p>
<h2 class="doxsection"><a class="anchor" id="MT552caveats"></a>
Caveats</h2>
<ul>
<li>Minor version. Client applications don't need to be recompiled against this update.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT552fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>Regression in the 5.5 series related to subdomain tagging (meshers may fail on subdomains connected by a dangling mesh).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#a6d6434123de1ce041638fca640db28d8" title="Converts CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into higher degree elements (suc...">cm2::meshtools3d::convert_into_high_order</a> and <a class="el" href="namespacecm2_1_1meshtools3d.html#a9c61263856be3021eea87a00da25d5e9" title="Converts in-place CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into CM2_TETRA10 elemen...">cm2::meshtools3d::convert_into_quadratic</a> didn't work for <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba1339f6b041d160333714f9a1a7ddfcf0" title="5-NODE PYRAMID (LINEAR GEOMETRY).">cm2::CM2_PYRAMID5</a> pyramid elements.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT551"></a>
CM2 MeshTools Release 5.5.1</h1>
<p>December, 2024.</p>
<h2 class="doxsection"><a class="anchor" id="MT551caveats"></a>
Caveats</h2>
<ul>
<li>Minor version. Client applications don't need to be recompiled against this update.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT551improv"></a>
Improvements</h2>
<ul>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a><ul>
<li>Can now handle intersections with edges (or points) defined as id-degenerated triangles (used to work only on <em>geometrically</em> degenerated faces, with caveats).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT551fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>Speed regression in version 5.5.0 when domain has many subdomains.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a><ul>
<li>Floating-point exceptions (overflows).</li>
<li>Quality issues with isolated (embedded) nodes and <span class="tt">refine_flag = false</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>Duplicates in <span class="tt">data_type::merged_curves</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a><ul>
<li>Floating-point exceptions (overflows).</li>
<li>Flag <span class="tt">line_proximity_detection_flag</span> wasn't saved (resp. loaded) with <span class="tt">settings_type::save</span> (resp. <span class="tt">settings_type::load</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a><ul>
<li>Floating-point exceptions (overflows).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a><ul>
<li>Bug/crash with background meshes.</li>
<li>Bug when boundary has pathologies and <span class="tt">settings_type::strict_constraints_level = 0</span>.</li>
<li>Floating-point exceptions (overflows).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a><ul>
<li>The <span class="tt">data_type::nefs_in_good</span> first elements in the repaired connectivity matrix <span class="tt">connectM</span> weren't always right.<br  />
 Some of these first elements weren't good (i.e. had pathologies indeed upon entry) and some good elements were moved beyond the <span class="tt">data_type::nefs_in_good</span> index.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a19d082033e3224535ff92c14f733e053" title="FEMAP input of a mesh (single type of element).">cm2::meshtools::FEMAP_input</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a098e528b3e0af13cfeca830e91b6128d" title="FEMAP output of a mesh (single type of element).">cm2::meshtools::FEMAP_output</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a> (overloads with <span class="tt">const char* filename</span>): file wasn't closed upon exit.</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#aefa4729871922917135b2a6537c7f557" title="Computes the boundaries of all elements in a mesh.">cm2::meshtools::get_element_boundaries</a>: spurious extra columns full of <span class="tt">CM2_NONE</span> when <span class="tt">FE_type</span> = <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba3544056c4843e9cc1c41caf0ce646b29" title="ANY LINEAR SOLID ELEMENT.">cm2::CM2_SOLID_MIX</a>.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a8d9ba738dbdc7adda57f8ad1b910ca28" title="Creates a mesh on a poly-spline with specific isotropic sizes defined at the spline points.">cm2::meshtools1d::mesh_spline</a>: floating-point exceptions (overflows).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT551breaks"></a>
Breaking changes</h2>
<ul>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a59a52e3e2d5075dc07264b4f1a81812a" title="The elements with at least one negative or null jacobian.">cm2::meshtools::invalid_jacobians</a>: the jacobians for 10-node tetrahedrons were computed at points of the quadrature used in the CM2 FEM SDK for <em>stiffness</em> matrices (5 Hammer points).<br  />
 They now also include also the points of the quadrature used in the CM2 FEM SDK for <em>mass</em> matrices (11 Hammer points).<br  />
 The elements are now declared valid when all the jacobians (5 + 11 values) are strictly positive.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT550"></a>
CM2 MeshTools Release 5.5.0</h1>
<p>June, 2024.</p>
<h2 class="doxsection"><a class="anchor" id="MT550caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_55</span> (Windows) and <span class="tt">5.5.0</span> with symlinks from <span class="tt">5.5</span> (Linux, macOS).</li>
<li>All the mesh generators (except the specialized tools) now depend on the OMP run-time system lib. As a consequence, users should now also ship this lib (vcomp140.dll or later on Windows, libgomp.so on Linux and libomp.dylib on Mac OS) to their end users or make sure it's installed on the target machines.</li>
<li>Visual Studio 2015 deprecated.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT550new"></a>
New features</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>The mesh generators are now partially OMP-parallelized (see <a class="el" href="#MT550improv">Improvements</a> Improvements below). <br  />
 The resulting meshes are perfectly reproducible and independent from the number of threads used: always the same meshes with the same input data (and the same CM2 libs).</li>
<li>New <span class="tt">settings_type::num_threads</span> to control the maximum number of threads allowed inside each mesh generator (similar to CM2 SurfMesh T3, CM2 SurfMesh Q4, CM2 SurfRemesh T3 and CM2 SurfRemesh Q4). <br  />
 The default is all available threads on the running platform.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#af48c69d34ee461f39d85dced5fe0b903" title="Eliminates the duplicate elements (keep only one).">cm2::meshtools::unique_elements</a> to eliminate duplicates (edges or faces, orientation-sensitive or not).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a8dac72ddbc42ac3730cd35e9419f4318" title="Finds the invalid metrics (aniso only).">cm2::meshtools::invalid_metrics</a> to find the non definite-positive metrics (aniso only).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a59a52e3e2d5075dc07264b4f1a81812a" title="The elements with at least one negative or null jacobian.">cm2::meshtools::invalid_jacobians</a> to find the elements with at least one negative or null jacobian. <br  />
 The jacobians are computed at specific points in the element, the so-called quadrature (Gauss/Hammer/Fellipa) points.<br  />
 The quadrature is the quadrature used in the CM2 FEM SDK for stiffness matrices.</li>
<li>New cm2::meshtools::node_detector::close_node members to find a node close to a given point (not always the closest).<br  />
 Faster than <span class="tt">find_closest</span> but doesn't return always the closest node.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools1d.html#a434e4cbd9a88c5559a0a5b6868bb7d91" title="Transforms a series of node indices into a mesh of CM2_EDGE4 elements.">cm2::meshtools1d::indices_to_connectE4</a> and <a class="el" href="namespacecm2_1_1meshtools1d.html#a1417ddc95703a6047b919238006d71a9" title="Converts in-place CM2_EDGE2 elements into CM2_EDGE4 elements, creating new high-order nodes.">cm2::meshtools1d::convert_into_cubic</a> to generate cubic (4-node) edge meshes.</li>
<li>New element tags <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba15f1c6f5caef63f050ebc7b204c18f21" title="ANY QUADRATIC FACE ELEMENT (CM2_FACET6 or CM2_FACEQ9).">cm2::CM2_FACE_QUAD_MIX</a> and <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbaba50d74e3d200b74554eae9197b6ad9b" title="ANY QUADRATIC SOLID ELEMENT (CM2_TETRA10, CM2_PYRAMID14, CM2_WEDGE18 or CM2_HEXA27).">cm2::CM2_SOLID_QUAD_MIX</a>.</li>
<li>cm2::meshtools::MEDIT_output can now export <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba1339f6b041d160333714f9a1a7ddfcf0" title="5-NODE PYRAMID (LINEAR GEOMETRY).">cm2::CM2_PYRAMID5</a> and <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba998baa6e36486ff1e69937c8ca303173" title="6-NODE WEDGE (LINEAR GEOMETRY).">cm2::CM2_WEDGE6</a> and all quadratic elements (including the new <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba15f1c6f5caef63f050ebc7b204c18f21" title="ANY QUADRATIC FACE ELEMENT (CM2_FACET6 or CM2_FACEQ9).">cm2::CM2_FACE_QUAD_MIX</a> and <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbaba50d74e3d200b74554eae9197b6ad9b" title="ANY QUADRATIC SOLID ELEMENT (CM2_TETRA10, CM2_PYRAMID14, CM2_WEDGE18 or CM2_HEXA27).">cm2::CM2_SOLID_QUAD_MIX</a> but not the serendipity elements <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba0a129d0e9ae82771ba0222f814304428" title="8-NODE QUADRANGLE (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_FACEQ8</a>, <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbab7133e39746e7e1991d9075142b8fa35" title="13-NODE PYRAMID (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_PYRAMID13</a>, <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbab76967cfe66327e4780ab0aa48d5fd7d" title="15-NODE WEDGE (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_WEDGE15</a> and <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbae619f9019f81b725cdd64fa2e4f4e401" title="20-NODE HEXAHEDRON (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_HEXA20</a>).</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a99285f954a8c8cf4f830fda2e8f5c379" title="Computes the jacobians of all elements of a mesh.">cm2::meshtools::jacobians</a> now works also on quadratic elements (the jacobians are still computed at one point: the centroid of the element).</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ae0510bea9fd7b8fb98c4c2a9851f6be1" title="Checks that all the input indices are lesser than a given value.">cm2::meshtools::check_IDs</a> now works also on quadratic elements.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a039809f2f12d822e9d67854fc1928606" title="Finds an element containing a point in a plane mesh (all-triangle, all-quad or mixed,...">cm2::meshtools2d::get_element_containing_point</a> to find an element containing a point in a plane mesh (all-triangle, all-quad or mixed). Experimental.</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#ae927d2cdb723ae8974e1a60d78a9f463" title="Finds an element containing a point in a solid mesh (tetrahedrons only, linear or quadratic).">cm2::meshtools3d::get_element_containing_point</a> to find an element containing a point in a solid mesh (all-tetrahedron only at present). Experimental.</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>Completed and updated.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT550improv"></a>
Improvements</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>Partial OMP-parallelization. <br  />
 Without any background-mesh, the multi-thread speed-ups (on top of other new single-thread optimizations) vary from:<ul>
<li>+15% in <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>.</li>
<li>+20% in <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a> and <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>.</li>
<li>+30% in <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>.</li>
<li>Usually not significant in other mesh generators (CM2 TriaMesh Iso, CM2 QuadMesh Iso, CM2 HexaMesh Iso) at present.</li>
</ul>
Higher speed-ups when a background-mesh is used (in all mesh generators). <br  />
 Note: more parts of the code should be multi-threaded in the future (especially in CM2 HexaMesh Iso) for hopefully higher speed-ups.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Improvements in the quality of the generated meshes.</li>
<li>A model with a single surface now benefits also from multi-threading.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Fortification leading to fewer <span class="tt">CM2_REMESHING_ERROR</span>.</li>
<li>An initial mesh partitioned into a single patch now benefits also from multi-threading.</li>
<li>Improvements in the quality of the generated meshes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Improvements in the quality of the generated meshes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Streamlinings in the optimizer step (usually reducing the number of tetrahedrons and pyramids).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Significant speed-ups (in the 30% - 60% range, still single-threaded).<br  />
 This optimization benefits also indirectly to <a class="el" href="namespacecm2_1_1meshtools3d.html#a25dd15ea163776393c3b484480c78bfa" title="Computes differences, intersection and union between (usually) two solids defined by their boundary f...">cm2::meshtools3d::boolean_ops</a>.</li>
<li>Some fortifications: fewer remaining pathologies in hard cases (mainly when the initial mesh is manifold).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a0bec522e3316b295b224ce5e76f67a9d" title="Computes the neighbors matrix of a mesh given by a connectivity matrix.">cm2::meshtools::get_neighbors</a>: reduced memory usage (- 67% on 64-bit platforms, - 30% on 32-bit platforms). This optimization benefits also to all meshers in <span class="tt">REGULARIZE_MODE</span>, remeshers and specialized tools as they use this function directly or indirectly.</li>
</ul>
</li>
<li><b>Miscellaneous</b><ul>
<li>As usual: doc fixes/clarifications, update of the manuals, update of the tutorials.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT550fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except specialized tools)</b><ul>
<li>The <span class="tt">settings.subdomains_forcing = -1</span> (remove all inner subdomains) didn't work as advertised.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Crashed (or infinite loop) when user-defined input boundaries contain degenerated elements (i.e. faces/edges with several identical nodes).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Weird too coarse or too fine areas in some cases.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Failure on some periodic surfaces (due to kernel computations inaccuracies).</li>
<li>When reference-coordinates computations for some high-order nodes failed (on curved, non-convex surfaces and <span class="tt">settings.high_order_mode</span> &gt;= 2) the node ids of the remaining surfaces could be wrong in <span class="tt">data.connectM</span>. <br  />
 Use <span class="tt">settings.high_order_mode</span> &lt;= 1 (high-order nodes no longer on true surfaces) in these cases.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Bad node ids in <span class="tt">data_type::connectM</span> when high-order nodes was requested and a surface was meshed with triangles only.</li>
<li>Missed structured meshings when high-order nodes was enabled.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Strange foldings when initial mesh has degenerated triangles (shape qualities = 0).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Quads could be flipped (or badly warped and then split) during the optimisation step.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Issues in non strict-constraint mode (<span class="tt">settings.strict_constraints_level = 0</span>) when gaps or intersections in boundary.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ae3975a0c4449edb3843c05447688f0fb" title="Finds positions of values in two vectors.">cm2::meshtools::get_IDs</a> (matrix version): buggy with mixed types of elements (i.e. with columns with tailing <span class="tt">CM2_NONE</span> values).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT550breaks"></a>
Breaking changes</h2>
<ul>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a99f75e1a79e518c095029dfba52a8f96" title="Computes differences, intersection and union between (usually) two 2-D domains defined by their bound...">cm2::meshtools2d::boolean_ops</a>: the orientation of the output meshes is now consistent with the orientation of the initial meshes (was inverted).<br  />
 Note: the orientation of the initial meshes needs not to be counter clock-wise any more. It can be also clock-wise. But still must be consistent (all CCW or all CW).</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#a25dd15ea163776393c3b484480c78bfa" title="Computes differences, intersection and union between (usually) two solids defined by their boundary f...">cm2::meshtools3d::boolean_ops</a>: the orientation of the output meshes is now consistent with the orientation of the initial meshes (was inverted).<br  />
 Note: the orientation of the initial meshes needs not to be outwards any more. It can be also inwards. But still must be consistent (all outwards or all inwards).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT541"></a>
CM2 MeshTools Release 5.4.1</h1>
<p>March, 2024.</p>
<h2 class="doxsection"><a class="anchor" id="MT541caveats"></a>
Caveats</h2>
<ul>
<li>Minor version. Client applications don't need to be recompiled against this update.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT541fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1intersect__e2_1_1mesher.html">CM2 Intersect E2</a>, <a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>, <a class="el" href="classcm2_1_1layers__2d_1_1mesher.html">CM2 Layers 2D</a>:<ul>
<li>Issues with <span class="tt">settings_type::save</span> and <span class="tt">settings_type::load</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Crashed when <span class="tt">settings.high_order_type &gt; 0</span> and <span class="tt">settings.high_order_mode = 0</span>.</li>
<li>Issues with <span class="tt">settings_type::save</span> and <span class="tt">settings_type::load</span>.</li>
<li>Minor fix on degenerated/empty surfaces.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Crashes when <span class="tt">data_type::hard_faces</span> wasn't sorted upon entry.</li>
<li>Some skeleton lines could be remeshed too fine.</li>
<li>Strange foldings when initial mesh has almost degenerated faces (qualities in the 1E-12 range).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Crashes when <span class="tt">data_type::hard_faces</span> were given (even sorted) and remeshing failed (mostly in all-quad mode).</li>
<li>Division by zero when <span class="tt">settings_type::quadrangle_weight</span> = 0 or 1.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Could crash with <span class="tt">settings.no_clamped_edges_flag = true</span>.</li>
<li>Some clamped edges (i.e. non-hard edges with both nodes hard) could remain even with <span class="tt">settings.no_clamped_edges_flag = true</span>.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li>cm2::meshtools1d::mesh_curv_param: crashed when <span class="tt">settings.high_order_type &gt; 0</span> and <span class="tt">settings.high_order_mode = 0</span>.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>: bug when <span class="tt">high_order_type &gt; 0</span> and <span class="tt">data3D.connectB.rows() = 2</span> (i.e. high-order elements required but linear edges provided upon entry). <br  />
 Default quadratic edges are now generated when missing (with quadratic nodes projected onto the surface or not, according to the <span class="tt">high_order_mode</span> parameter).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT540"></a>
CM2 MeshTools Release 5.4.0</h1>
<p>June, 2023.</p>
<h2 class="doxsection"><a class="anchor" id="MT540caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_54</span> (Windows) and <span class="tt">5.4.0</span> with symlinks from <span class="tt">5.4</span> (Linux, macOS).</li>
<li>Win32 and Linux x86-32 builds deprecated. Builds no longer provided.</li>
<li>Visual Studio 2013 deprecated. Builds no longer provided.</li>
<li>MacOS Intel x86-64 deprecated. Builds no longer provided. Use the universal builds instead.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT540new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>New toggle <span class="tt">settings_type::line_proximity_detection_flag</span> to take into account (true) or not (false) the distance to skeleton lines for the size of the elements. Default = true as in previous versions.</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ae8e6516c0d525b06a01822c0200f9648" title="Gets all the edges (unique) in a mesh.">cm2::meshtools::copy_edges</a>: new optional parameter <span class="tt">excludedE</span> to exclude some edges.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#aa85cccaa0a6bebe063485105d2c1419a" title="Remeshes lines, connected or not, with possibly user-defined hard nodes and colors.">cm2::meshtools1d::remesh_lines</a> to remesh lines, connected or not, with possibly user-defined hard nodes and colors. <br  />
 Similar to <a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a> but for edge meshes (remeshes with new mesh sizes, max chordal error, colors, hard nodes, hard edges).<br  />
 Can be useful to improve contours after intersections fixing by <a class="el" href="classcm2_1_1intersect__e2_1_1mesher.html">CM2 Intersect E2</a> for instance.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a99f75e1a79e518c095029dfba52a8f96" title="Computes differences, intersection and union between (usually) two 2-D domains defined by their bound...">cm2::meshtools2d::boolean_ops</a> now works also with <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a> and <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a> (on top of <a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a> and <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#ab73c0db2bcaf87755c3e4a931474f554" title="Generates a pseudo-structured mesh on a disk quarter (upper-right quarter) with CM2_FACEQ4 elements.">cm2::meshtools2d::mesh_disk_UR_Q4</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#a9e854fbef64f0b85ac27753b8d47ee77" title="Generates a pseudo-structured mesh on a disk quarter (upper-right quarter) with CM2_FACET3 elements.">cm2::meshtools2d::mesh_disk_UR_T3</a> to generate pseudo-structured plane meshes on 1/4 of disk.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#ad49a3970edab75684354959ce4bf82b2" title="Generates a pseudo-structured mesh on a full disk with Q4 elements.">cm2::meshtools2d::mesh_disk_Q4</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#a3cf569726e9545f928d4be37787f7215" title="Generates a pseudo-structured mesh on a full disk with T3 elements.">cm2::meshtools2d::mesh_disk_T3</a> to generate pseudo-structured plane meshes on a full disk.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a8fe3194c960bfb0ce971012cb6f9034a" title="Generates a pseudo-structured surface mesh on a 1/8 sphere (&quot;positive&quot; quadrant) with CM2_FACEQ4 elem...">cm2::meshtools2d::mesh_sphere_UR_Q4</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#af5af909ffce5d0e86b913f4adf39d6dd" title="Generates a pseudo-structured surface mesh on a 1/8 sphere (&quot;positive&quot; quadrant) with CM2_FACET3 elem...">cm2::meshtools2d::mesh_sphere_UR_T3</a> to generate pseudo-structured surface meshes on 1/8 of sphere.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a5bb959db25d5fac444ee879c78baede9" title="Generates a pseudo-structured surface mesh on a full sphere with CM2_FACEQ4 elements.">cm2::meshtools2d::mesh_sphere_Q4</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#ab1aea75f8a402178c83cf8af4eb041b8" title="Generates a pseudo-structured surface mesh on a full sphere with CM2_FACET3 elements.">cm2::meshtools2d::mesh_sphere_T3</a> to generate pseudo-structured surface meshes on a full sphere.</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>Completed and updated.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT540improv"></a>
Improvements</h2>
<ul>
<li>All meshers (except specialized tools):<ul>
<li>Significant improvements in the node-smoothing algorithms (optimization steps).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>Major improvements in the regularization step with <span class="tt">settings.no_clamped_edges_flag = true</span> (quality of the meshes, fewer elements).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>New topological optimization in the optimization steps.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Optimized multi-threading.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Major improvements in the regularization step with <span class="tt">settings.no_clamped_edges_flag = true</span> (quality of the meshes, fewer elements).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Improvements in the quality of the generated meshes (fewer tetrahedrons for instance).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li>Clean-ups and many test cases rewritten.</li>
<li>Doc fixes, update of the manuals, update of the tutorials.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT540fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>The <span class="tt">settings_type::closed_manifold_flag</span> wasn't fully honored (some meshes could lose manifold-ness).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Fixes in the regularization scheme (could lead to rare crashes).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ab4fb5cc46e2c1a739f93cfb6bb1fb81d" title="Retrieves the elements sharing at least one specified boundary.">cm2::meshtools::get_elements_on_boundaries</a>: potential erroneous results with <span class="tt">orientation_code &gt;= 1</span>.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a6f88578d90c78dc125171fb38dd873dc" title="Interpolates a scalar field (doubles) defined on the nodes of a plane mesh (all-triangle,...">cm2::meshtools2d::interpolate</a>: failure of the overloads for vectorial fields (<span class="tt">DoubleMat</span>).</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#ac56bf2a68a42c4ea7b3b3e23dfb12f23" title="Interpolates a scalar field (doubles) defined on the nodes of a tetrahedral mesh.">cm2::meshtools3d::interpolate</a>: failure of the overloads for vectorial fields (<span class="tt">DoubleMat</span>).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT540breaks"></a>
Breaking changes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>User-defined colors upon entry: the boundaries between any different colors (including <span class="tt">CM2_NONE</span>) was considered as skeleton edges. <br  />
 Now, only the boundaries between <em>valid</em> different colors (not equal to <span class="tt">CM2_NONE</span>) are considered as skeleton edges. <br  />
 The valid user color for the element with lowest ID will be assigned to all elements of the patch this element belongs to (discarding any other user color in the same patch).</li>
</ul>
</li>
<li><b>Core MeshTools libs</b><ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a3f5fa636b64d28ebb19291b93bb63c65" title="Finds the boundaries between elements of different colors.">cm2::meshtools::get_colors_boundaries</a>: new parameter <span class="tt">bool colored_only_flag</span> to consider boundaries between elements with different valid colors only (not equal to <span class="tt">CM2_NONE</span>) or any different colors (including <span class="tt">CM2_NONE</span>).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT530"></a>
CM2 MeshTools Release 5.3.0</h1>
<p>November, 2022.</p>
<h2 class="doxsection"><a class="anchor" id="MT530caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_53</span> (Windows).</li>
<li>Linux and macOS: dynamic libs now follow the conventional version numbering scheme, have compatibility numbers and come with symlinks. Examples:<ul>
<li>Linux: <span class="tt">libcm2tetramesh_iso.so.5.3.0</span> (current) with symlinks from <span class="tt">libcm2tetramesh_iso.so.5.3</span> (soname) from <span class="tt">libcm2tetramesh_iso.so</span> (base).</li>
<li>macOS: <span class="tt">libcm2tetramesh_iso.5.3.0.dylib</span> (current) with symlinks from <span class="tt">libcm2tetramesh_iso.5.3.dylib</span> (compatibility) from <span class="tt">libcm2tetramesh_iso.dylib</span> (base).</li>
</ul>
</li>
<li>New specialized tool <a class="el" href="classcm2_1_1intersect__e2_1_1mesher.html">CM2 Intersect E2</a> to repair intersections between 2-node edge meshes.</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> promoted to production-grade (no longer experimental).</li>
<li>New macOS arm64 (Apple silicon) and universal (fat libs for both x86-64 and arm64 architectures) builds.</li>
<li>New macOS bash script to change the dynamic libs entries (for example to <span class="tt">@rpath/../lib</span>).</li>
<li>Last version with Visual Studio 2013 builds (deprecated and no longer provided in future versions).</li>
<li>Last version with Win32 and Linux x86-32 builds (deprecated and no longer provided in future versions).</li>
<li>Last version with macOS pure Intel x86-64 builds (deprecated and no longer provided in future versions). Use the universal builds instead.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT530new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1intersect__e2_1_1mesher.html">CM2 Intersect E2</a>:<ul>
<li>New specialized tool to repair intersections between 2-node edges (plane 2-D or 3-D) similar to <a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a> with tutorial manual and reference manual.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Now production-grade (no longer experimental), with tutorial manual and reference manual.</li>
<li>Can now merge coincident curves (when within <span class="tt">settings_type::fix_tolerance</span>). <br  />
 Used to work only on vertices (but still not considered to merge coincident surfaces).</li>
<li>New output <span class="tt">data_type::merged_vertices</span> to tell which vertices have been merged into which.</li>
<li>New output <span class="tt">data_type::merged_curves</span> to tell which curves have been merged into which.</li>
<li>New output <span class="tt">data_type::nbr_vertices</span> for the number of vertices in the CAD model (before any merge).</li>
<li>Default to mesh size equal to 1/10 of highest dimension size of the model when <span class="tt">settings_type::target_h</span> = 0.</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>New COM wrapper for CM2 Intersect E2.</li>
<li>New COM wrappers for CM2 SurfMesh T3/Q4.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a99f75e1a79e518c095029dfba52a8f96" title="Computes differences, intersection and union between (usually) two 2-D domains defined by their bound...">cm2::meshtools2d::boolean_ops</a> to compute the differences, intersection and union between two plane domains defined by their extern contour (2-node edges closed meshes with similar orientation). <br  />
 Requires <a class="el" href="classcm2_1_1intersect__e2_1_1mesher.html">CM2 Intersect E2</a> and a plane mesh generator (<a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a> or <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a8a05985ebaffda7caae2f90a62c89a33" title="Offsets a surface mesh in specific directions.">cm2::meshtools2d::offset</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#a3577be0765a7565302e633c7d9aa7c74" title="Duplicates and offsets a surface mesh in specific directions.">cm2::meshtools2d::copy_with_offset</a> to offset a 3-D surface mesh (T3 and/or Q4) along nodal normals or user-defined nodal directions. <br  />
 Offsets can be isotropic (same offset quantity whatever the direction of the normals) or anisotropic (offset quantities depend on the direction of the normals).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#a25dd15ea163776393c3b484480c78bfa" title="Computes differences, intersection and union between (usually) two solids defined by their boundary f...">cm2::meshtools3d::boolean_ops</a> to compute the differences, intersection and union between two solids defined by their extern boundary surface (3-node triangles closed meshes with similar orientation). <br  />
 Requires <a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a> and a tetrahedron mesh generator (<a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a> or <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#a21190caf8daea3902805527df8d63c40" title="Extrudes (sweeps) a surface mesh along a specific line to make a structured solid mesh with spherical...">cm2::meshtools3d::extrude_line</a> to extrude (sweep) a surface mesh (T3 and/or Q4) along a specific line to make a structured 3-D mesh (W6 and/or H8). <br  />
 Expansion ratios (spherical or anisotropic) perpendicular to the extrusion line can be set.</li>
<li>All solid extrusion functions (<a class="el" href="namespacecm2_1_1meshtools3d.html#a106e04ce12c4b5308dbe2774a74ee2c1" title="Extrudes (sweeps) with translation a surface mesh into a structured solid mesh.">cm2::meshtools3d::extrude_translate</a>, <a class="el" href="namespacecm2_1_1meshtools3d.html#a80e9f44181ef2a99e37ab1ba6b78c3e0" title="Extrudes (sweeps) with rotation a surface mesh into a structured solid mesh.">cm2::meshtools3d::extrude_rotate</a>, <a class="el" href="namespacecm2_1_1meshtools3d.html#a216823273a4986bb01c0cd4a8a14d2fb" title="Extrudes (sweeps) with rotation and translation a surface mesh into a structured solid mesh.">cm2::meshtools3d::extrude_spiral</a>, <a class="el" href="namespacecm2_1_1meshtools3d.html#a21190caf8daea3902805527df8d63c40" title="Extrudes (sweeps) a surface mesh along a specific line to make a structured solid mesh with spherical...">cm2::meshtools3d::extrude_line</a>) now have overloads with outputs for side and top surface meshes.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT530improv"></a>
Improvements</h2>
<ul>
<li>All meshers:<ul>
<li>Minor speed-ups (&lt;= 2%).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Port to OCCT 7.6 (Win, Linux and macOS).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Speed-ups and reduction in memory usage when numerous hard faces.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>As usual, doc clean-ups, update of the manuals, update of the tutorials...</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT530fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Hard quadrangles could be sometimes split into two triangles.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>More robust on difficult, slender surfaces.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Meshes weren't always structured as could be.</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>Missing <span class="tt">data_type::put_colors_in</span> members for COM CM2 SurfRemesh T3/Q4.</li>
<li>Missing <span class="tt">settings_type::put_num_threads</span> members for COM CM2 SurfRemesh T3/Q4.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT530breaks"></a>
Breaking changes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Edges between two hard faces are no longer reported in <span class="tt">data_type::hard_edges</span>, <span class="tt">data_type::skeleton_edges</span>, <span class="tt">data_type::skeleton_edges_in</span>, <span class="tt">data_type::skeleton_colors</span> and <span class="tt">data_type::skeleton_colors_in</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (source-code licenses only):<ul>
<li>Class <span class="tt">OCC_interface</span> renamed into <span class="tt">OCCT_interface</span>.</li>
<li><span class="tt">static bool OCC_interface::curve_ref_image (const curve2D_type&amp; C, double u, DoubleVec2&amp; P)</span> renamed into <span class="tt">static bool OCCT_interface::curve_image (const curve2D_type&amp; C, double u, DoubleVec2&amp; P)</span></li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT520"></a>
CM2 MeshTools Release 5.2.0</h1>
<p>May, 2022.</p>
<h2 class="doxsection"><a class="anchor" id="MT520caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_52</span>.</li>
<li>New Visual Studio 2022 builds.</li>
<li>Visual Studio 2012 and GCC 6.1 builds removed (Visual Studio 2010 and GCC 4.8 builds will remain for some times as legacy builds).</li>
<li>Visual Studio 2013 is deprecated and will no longer be supported in future versions.</li>
<li>Win32 and Linux x86-32 builds are deprecated and will no longer be supported in future versions.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT520new"></a>
New features</h2>
<ul>
<li>All meshers:<ul>
<li>New <span class="tt">data_type::get_colors_on_boundaries</span> to get the colors of the subdomains connected to some boundaries.</li>
<li>New <span class="tt">data_type::set_colors_by_boundaries</span> to set the colors (re-colorize) of the subdomains connected to some boundaries.</li>
<li>New <span class="tt">settings_type::save</span> and <span class="tt">settings_type::load</span> for serialization to/from ASCII files (similar to <span class="tt">data_type::save</span> and <span class="tt">data_type::load</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li><span class="tt">data_type::colors_in</span> used to be a purely out array (<em>automatic coloring</em>). The user had little control over the patches and none over the color values. <br  />
 Now <em>user coloring</em> is allowed on faces (when <span class="tt">data_type::colors_in</span> is not empty upon entry):<ul>
<li>The input colors <span class="tt">data_type::colors_in</span> are transfered to the children faces: new faces in the final mesh are colored (in array <span class="tt">data_type::colors</span>) with same color as their parent face in the initial mesh, whatever the type of coloring (automatic or user coloring).</li>
<li>The boundaries between different input colors are considered as skeleton edges (and honored as such).</li>
<li>Caveats: in case of several consecutive remeshings, set <span class="tt">colors_in = colors</span> (or at least clear it) for the same reason as <span class="tt">skeleton_edges_in</span> was required to be set to <span class="tt">skeleton_edges</span> or cleared.</li>
</ul>
</li>
<li>Similarly, <span class="tt">data_type::skeleton_colors_in</span> used to be a purely out array (<em>automatic coloring</em>). <br  />
 Now <em>user coloring</em> is allowed on edges (when <span class="tt">data_type::skeleton_colors_in</span> and <span class="tt">data_type::skeleton_edges_in</span> are not empty upon entry):<ul>
<li>The input colors <span class="tt">data_type::skeleton_colors_in</span> are transfered to the children edges: new edges in the final mesh are colored (in array <span class="tt">data_type::skeleton_colors</span>) with same color as their parent edge in the initial mesh, whatever the type of coloring (automatic or user coloring).</li>
<li>The boundaries (extremities) between different input line colors are considered as hard nodes.</li>
<li>Caveats: in case of several consecutive remeshings, set <span class="tt">skeleton_colors_in = skeleton_colors</span> and <span class="tt">skeleton_edges_in = skeleton_edges</span> (or at least clear them).</li>
</ul>
</li>
<li>New <span class="tt">data_type::nefs_T3_in</span>, <span class="tt">data_type::nefs_Q4_in</span>, <span class="tt">data_type::area_T3_in</span> and <span class="tt">data_type::area_Q4_in</span> (following CM2 SurfRemesh Q4 new acceptance of all-quad/hybrid meshes upon entry).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Now accepts also all-quad and mixed quad-triangle meshes upon entry (on top of all-triangle meshes). <br  />
 The partitioning of the initial meshes avoids splitting any quad (if possible).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>New <span class="tt">data_type::set_colors_by_parts</span> to re-colorizes the elements with their part id (requires <span class="tt">data_type::xparts</span> to be populated). <br  />
</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#af8bf25fa52ad4fdcec1b2b80a4407042" title="Converts CM2_FACET3 and CM2_FACEQ4 elements into high-order elements (such as CM2_FACET6,...">cm2::meshtools2d::convert_into_high_order</a>, <a class="el" href="namespacecm2_1_1meshtools2d.html#a83d540b5f240982f4370f9d325b5085d" title="Converts in-place CM2_FACET3 and CM2_FACEQ4 elements into CM2_FACET6 and CM2_FACEQ9 elements,...">cm2::meshtools2d::convert_into_quadratic</a>: internal nodes are now interpolated using also the quadratic nodes on edges (when <span class="tt">Ne = 1</span>). <br  />
 For instance, the central nodes of Q9 faces is now interpolated using serendipity Q8 shape functions (was interpolated using only the Q4 linear shape functions) giving better positions of central nodes for elements near curved boundaries.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a884fe641d4210c1df33d7bb535af777f" title="Extrudes (sweeps) a CM2_EDGE2 mesh in specific directions (one direction per node) to make a structur...">cm2::meshtools2d::extrude_normal_T3</a> and <a class="el" href="namespacecm2_1_1meshtools2d.html#aeedae3a207994145682e879b20f227b4" title="Extrudes (sweeps) a CM2_EDGE2 mesh in specific directions (one direction per node) to make a structur...">cm2::meshtools2d::extrude_normal_Q4</a> to extrude (sweep) a line mesh (E2) in normal directions to make a structured 2-D mesh (T3 or Q4).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#ac8378f82a116785c0697291f9b019f56" title="Changes the orientation of the faces in a 2-D mesh (CM2_FACET3, CM2_FACEQ4, CM2_FACE_MIX).">cm2::meshtools2d::flip</a> (UIntMat&amp; connect, UIntMat&amp; neighbors, <a class="el" href="group___f_etypes.html#ga7184c8f700d59fc147878021eef375bb" title="Enum to specify the type of element.">cm2::element_type</a> FE_type) to flip face elements and update their neighbor matrix together.</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#a6d6434123de1ce041638fca640db28d8" title="Converts CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into higher degree elements (suc...">cm2::meshtools3d::convert_into_high_order</a>, <a class="el" href="namespacecm2_1_1meshtools2d.html#a83d540b5f240982f4370f9d325b5085d" title="Converts in-place CM2_FACET3 and CM2_FACEQ4 elements into CM2_FACET6 and CM2_FACEQ9 elements,...">cm2::meshtools2d::convert_into_quadratic</a>: internal face nodes are now interpolated using also the quadratic nodes on edges (when <span class="tt">Ne = 1</span>), <br  />
 internal solid nodes are now interpolated using also the quadratic nodes on edges and faces (when <span class="tt">Ne = 1</span>, <span class="tt">Nft = 0</span>, <span class="tt">Nfq = 1</span>). <br  />
 For instance, the central nodes of H27 bricks is now interpolated using serendipity H26 shape functions (was interpolated using only the H8 linear shape functions) giving better positions of central nodes for elements near curved boundaries.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#ad46b999f0e3930a956e56e2d0b50c336" title="Extrudes (sweeps) a surface mesh in specific directions (one direction per node) to make a structured...">cm2::meshtools3d::extrude_normal</a> to extrude (sweep) a surface mesh (T3, Q4 or mixed) in normal directions to make a structured 3-D mesh (W6, H8 or mixed).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT520improv"></a>
Improvements</h2>
<ul>
<li>All meshers:<ul>
<li>Improvements in the regularize schemes. Better minimal qualities together with faster regularizations (up to +30%).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a> &amp; <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Faster boundary enforcement with fewer Steiner nodes.</li>
<li>Speed-ups in some very specific cases (such as spheres with structured boundary meshes).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>More efficient boundary quads enforcement.</li>
<li>Noticeably fewer low-order elements (tetrahedrons and pyramids).</li>
<li>Speed-ups +5% on average (up to +30%).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a> &amp; <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>Speed-ups in some very specific cases (such as disks).</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>Updated.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>Source code ported to C++20 (while still keeping compatibility with C++98 and later).</li>
<li>Doc clean-ups.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT520fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Issues with <span class="tt">skeleton_edges_in</span>.</li>
<li>Rare crashes.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT520breaks"></a>
Breaking changes</h2>
<ul>
<li>All meshers:<ul>
<li>Error <span class="tt">CM2_MODE_ERROR</span> removed (was deprecated). Use <span class="tt">CM2_SETTINGS_ERROR</span> now.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>As input values in <span class="tt">data_type::colors_in</span> and <span class="tt">data_type::skeleton_colors_in</span> are no longer discarded (<em>user coloring</em>): <br  />
 In case of several consecutive remeshings, set <span class="tt">colors_in = colors</span> and <span class="tt">skeleton_colors_in = skeleton_colors</span> (or at least clear them) for the same reason as <span class="tt">skeleton_edges_in</span> was required to be set to <span class="tt">skeleton_edges</span> or cleared.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (source code only):<ul>
<li><span class="tt">face_edges_iterator::get_current</span> returns now an additional parameter <span class="tt">int&amp; orientation</span> to code for the edge's orientation in the face contour.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ab4fb5cc46e2c1a739f93cfb6bb1fb81d" title="Retrieves the elements sharing at least one specified boundary.">cm2::meshtools::get_elements_on_boundaries</a>: new parameter <span class="tt">orientation_code</span> to tie-break the side on which elements should be considered.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT511"></a>
CM2 MeshTools Release 5.1.1</h1>
<p>March, 2022.</p>
<h2 class="doxsection"><a class="anchor" id="MT511caveats"></a>
Caveats</h2>
<ul>
<li>Minor version. Client applications don't need to be recompiled against this update.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT511fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a> &amp; <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Regression vs. 5.0: failure in mixed mode on 4-edge domains with 2 edges aligned (two triangles should be generated).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Regression vs. 5.0: failure in mixed mode on 4-edge patches with 2 edges aligned and <span class="tt">target_h = 0</span> (two triangles should be generated).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Issues with some periodic surfaces (failures or bad meshings).</li>
<li>OCCT function <span class="tt">Extent</span> was called instead of agnostic <span class="tt">cad::size</span> (Source Code licenses only).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Issues with user-defined mesh sizes larger than <span class="tt">target_h</span> (not taken into account although advertised as having higher priority than <span class="tt">min_h</span>, <span class="tt">max_h</span> and <span class="tt">target_h</span>).</li>
<li>Issues with <span class="tt">settings_type::max_chordal_error</span> (not always honored as it should be, giving too coarse meshes). <br  />
 Note that the number of faces in the final mesh can be significantly higher with this fix.</li>
<li>Faces could be flipped sometimes.</li>
<li><span class="tt">CM2_INTERNAL_ERROR</span> raised in rare cases.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a67666c1f9005057ff2a45d96fef5bc7b" title="STL output of a triangle mesh.">cm2::meshtools::STL_output</a>: crashed when coordinate matrix had only 2 rows. <br  />
 Now explicitly requires a coordinate matrix with 3 rows (returns an error code if not 3 rows).</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ae35e1d29298ae119404bd0b334825067" title="Wavefront obj output of a mesh (triangles and quads).">cm2::meshtools::WavefrontOBJ_output</a>: issues with format.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT510"></a>
CM2 MeshTools Release 5.1.0</h1>
<p>October, 2021.</p>
<h2 class="doxsection"><a class="anchor" id="MT510caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_51</span>.</li>
<li>Win32 and Linux x86 (32-bit) builds are deprecated and will no longer be supported in future versions.</li>
<li>Visual Studio 2012 and GCC 6.1 are deprecated and will no longer be supported in future versions (Visual Studio 2010 and GCC 4.8 builds will remain for some times as legacy builds).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT510new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>New parameter <span class="tt">settings_type::fix_tolerance</span> to merge (i.e. fix) CAD entities when their maximum distance is below or equal to this value. <br  />
 Considered only between skeleton vertices so far.</li>
<li>New parameter <span class="tt">settings_type::min_Q4_warp_quality</span> to limit the maximum warpage of the quadrangles (over-warped quads are split into triangles).</li>
<li>Now able to read BRep files.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>New parameter <span class="tt">settings_type::min_Q4_warp_quality</span> to limit the maximum warpage of the quadrangles (over-warped quads are split into triangles).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>New <span class="tt">settings_type::anaysis_code</span> and <span class="tt">data_type::xparts</span> to limit the analysis (and the fixes) to inter-domain pathologies. <br  />
 This saves CPU time when one knows that each part individually is fine but wants to fix only the intersections between the parts. <br  />
 In addition, this prevents close nodes or small elements in each part to be considered as pathology and modified.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a0cbbd106ac6dd0b3915fb7cbcdcc0bf8" title="The centroid of all elements of a mesh.">cm2::meshtools::centroids</a> to compute the centroids of elements in a mesh (linear types only).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a19d082033e3224535ff92c14f733e053" title="FEMAP input of a mesh (single type of element).">cm2::meshtools::FEMAP_input</a> and <a class="el" href="namespacecm2_1_1meshtools.html#a098e528b3e0af13cfeca830e91b6128d" title="FEMAP output of a mesh (single type of element).">cm2::meshtools::FEMAP_output</a> with <span class="tt">FILE*</span> parameter (in place of <span class="tt">const char*</span>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a> and <a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a> with <span class="tt">FILE*</span> parameter (in place of <span class="tt">const char*</span>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a7d01e428fe7f2ee89ccfe1ba6ee3e501" title="STL input of a triangle mesh.">cm2::meshtools::STL_input</a> and <a class="el" href="namespacecm2_1_1meshtools.html#a67666c1f9005057ff2a45d96fef5bc7b" title="STL output of a triangle mesh.">cm2::meshtools::STL_output</a> with <span class="tt">FILE*</span> parameter (in place of <span class="tt">const char*</span>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools1d.html#a85e1282f5d6c56e35e5915a3ded5dd9d" title="Converts in-place CM2_EDGE2 elements into CM2_EDGE3 elements, creating new high-order nodes.">cm2::meshtools1d::convert_into_quadratic</a> to transform linear edges into quadratic ones (simplified version of <a class="el" href="namespacecm2_1_1meshtools1d.html#a9ce3eaeaf80a9a0a946cad1eb845173d" title="Converts E2 elements into higher degree elements (E3, E4 and over), creating new high-order nodes.">cm2::meshtools1d::convert_into_high_order</a>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools1d.html#a3e0e3b544a758f9e97356c999833d17d" title="Converts in-place high-order elements (CM2_EDGE3 or higher) into linear elements (CM2_EDGE2).">cm2::meshtools1d::convert_into_linear</a> to transform high-order edges into linear ones (discarding the high-order nodes).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#acd6a5059a3db313b4b14fdd2a3db1931" title="Computes the connected faces around nodes (triangles or quadrangles).">cm2::meshtools2d::get_connected_elements</a> to compute the IDs (as CSR compressed lists) of the faces (triangles or quads) connected to the nodes. <br  />
 Similar to the general <a class="el" href="namespacecm2_1_1meshtools.html#ae4d05a3b592e69cea32c7868c206d749" title="Computes the elements connected to each node.">cm2::meshtools::get_connected_elements</a> (which works also for 1-D and 3-D types of element) but element IDs in the lists are returned here counter-clock wise (vs. increasing ID ordering for the general-case function).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#ad3102aa86b4d9e3ca9f7cb3f612e7499" title="The circumcenters (Voronoi points) of triangles (2D or 3-D).">cm2::meshtools2d::circumcenters</a> to compute the circumcenters of triangle meshes (2-D and 3-D).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a83d540b5f240982f4370f9d325b5085d" title="Converts in-place CM2_FACET3 and CM2_FACEQ4 elements into CM2_FACET6 and CM2_FACEQ9 elements,...">cm2::meshtools2d::convert_into_quadratic</a> to transform linear faces into quadratic ones (simplified versions of <a class="el" href="namespacecm2_1_1meshtools2d.html#af8bf25fa52ad4fdcec1b2b80a4407042" title="Converts CM2_FACET3 and CM2_FACEQ4 elements into high-order elements (such as CM2_FACET6,...">cm2::meshtools2d::convert_into_high_order</a>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#a3af36c2d10eabed7a8bba95e04f93df8" title="Converts in-place high-order face elements (CM2_FACET6, CM2_FACEQ8 or CM2_FACEQ9) into linear element...">cm2::meshtools2d::convert_into_linear</a> to transform high-order faces into linear ones (discarding the high-order nodes).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools2d.html#aa245d0dc34e5cd6d032b72a31a4d4731" title="The element directors/normals on a 3-D surface (at centre of elements).">cm2::meshtools2d::normals</a> (overloaded) to compute the normals/directors to <em>elements</em> in surface meshes (triangles or quads). <br  />
 A previous overload was already available for <em>nodal</em> normals.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#a36999ef1099d96590bd2ffc619780f58" title="Computes the circumcenters (Voronoi points) of tetrahedron.">cm2::meshtools3d::circumcenters</a> to compute the circumcenters of tetrahedron meshes.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#a9c61263856be3021eea87a00da25d5e9" title="Converts in-place CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into CM2_TETRA10 elemen...">cm2::meshtools3d::convert_into_quadratic</a> to transform linear solids into quadratic ones (simplified versions of <a class="el" href="namespacecm2_1_1meshtools3d.html#a6d6434123de1ce041638fca640db28d8" title="Converts CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into higher degree elements (suc...">cm2::meshtools3d::convert_into_high_order</a>).</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#a232f556cd03631855452d7ff1577167b" title="Converts in-place high-order solid elements (CM2_TETRA10, CM2_PYRAMID13, CM2_PYRAMID14,...">cm2::meshtools3d::convert_into_linear</a> to transform high-order solids into linear ones (discarding the high-order nodes).</li>
<li>Portage to GCC 11 and Clang 13.</li>
<li>Source code ported to stdc++17.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT510improv"></a>
Improvements</h2>
<ul>
<li>All meshers:<ul>
<li>Massive speed-ups in the optimization step for some corner cases (when the max-min quality imposed by the constraints is very low).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>:<ul>
<li>Speed-ups +10% on average.</li>
<li>Some improvements in mesh quality.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>:<ul>
<li>Speed-ups +25% on average.</li>
<li>Some improvements in mesh quality.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>Speed-ups +10% on average.</li>
<li>Some improvements in mesh quality.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Speed-ups +25% on average.</li>
<li>Some improvements in mesh quality.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Speed-ups +15% on average.</li>
<li>Port to OCCT 7.5 (Win, Linux and macOS).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>More efficient boundary enforcement with much fewer Steiner nodes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>:<ul>
<li>Speed-ups +10% on average.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Speed-ups +5% on average.</li>
<li>Fewer nodes and elements in some cases.</li>
<li>Some improvements in mesh quality.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Speed-ups +25% on average.</li>
<li>More efficient boundary quads enforcement.</li>
<li>Slightly fewer low-order elements (tetrahedrons and pyramids).</li>
<li>Some improvements in mesh quality.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Speed-ups +25% on average (much more on multi-domains with <span class="tt">analysis_code &lt; 2</span>. <br  />
</li>
<li>Some improvements in difficult cases. <br  />
</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="classcm2_1_1meshtools_1_1node__detector.html" title="Node detector.">cm2::meshtools::node_detector</a>: constructors and <span class="tt">reinit</span> members use now a perfect-balancing insertion scheme making <span class="tt">find_closest</span> and <span class="tt">find_in_box</span> faster.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: clean-ups and reduced memory usage.</li>
</ul>
</li>
<li><b>COM wrapper</b><ul>
<li>Updated.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT510fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Failure sometimes when <span class="tt">settings.all_quad_flag = true</span> and only four edges in boundary.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>Similar to the QuadMesh behaviour, structured meshes are not longer forced (with <span class="tt">structured_pattern &gt;= 0</span>) when a Delaunay mesh is more suitable (for instance with a background mesh, specific mesh sizes or a <span class="tt">target_metric</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Orientation of some faces could be wrong upon exit (opposite to the initial master faces).</li>
<li>Nodes of slave faces weren't always projected on master faces.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Unexpected slow-downs with boundary meshes with small elements sizes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Some fixes.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>Doc fixes and clarifications.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT510breaks"></a>
Breaking changes</h2>
<ul>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li><span class="tt">data_type::best_achievable_min_quality</span> renamed <span class="tt">data_type::max_min_quality</span>. <br  />
 This output field is now relevant also for CM2 TetraMesh Aniso, although only approximative here (was valid only for CM2 TetraMesh Iso).</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><span class="tt">cm2::meshtools1d::convert_E2</span> renamed into <a class="el" href="namespacecm2_1_1meshtools1d.html#a9ce3eaeaf80a9a0a946cad1eb845173d" title="Converts E2 elements into higher degree elements (E3, E4 and over), creating new high-order nodes.">cm2::meshtools1d::convert_into_high_order</a>. <br  />
 Note also the new <a class="el" href="namespacecm2_1_1meshtools1d.html#a85e1282f5d6c56e35e5915a3ded5dd9d" title="Converts in-place CM2_EDGE2 elements into CM2_EDGE3 elements, creating new high-order nodes.">cm2::meshtools1d::convert_into_quadratic</a> (see <a class="el" href="#MT510new">New features</a> above).</li>
<li><span class="tt">cm2::meshtools1d::E3_to_2E2</span> renamed into <a class="el" href="namespacecm2_1_1meshtools1d.html#a9924564f0d95da5758b99bc115d4096b" title="Transforms a 3-node edge connectivity matrix into a 2-node edge connectivity matrix (doubled).">cm2::meshtools1d::split_into_linear</a>.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: the metrics array <span class="tt">H</span> now behaves as the curvilinear coordinates array <span class="tt">pos1D</span>. <br  />
 Upon entry: the requested mesh sizes relative to <span class="tt">nodes</span> (used to be relative to <span class="tt">pos</span>). <br  />
 Upon exit: the metrics of the new nodes are appended (as before).</li>
<li><span class="tt">cm2::meshtools2d::convert_T3</span>, <span class="tt">cm2::meshtools2d::convert_Q4</span> and <span class="tt">cm2::meshtools2d::convert_mixed</span> unified into new <a class="el" href="namespacecm2_1_1meshtools2d.html#af8bf25fa52ad4fdcec1b2b80a4407042" title="Converts CM2_FACET3 and CM2_FACEQ4 elements into high-order elements (such as CM2_FACET6,...">cm2::meshtools2d::convert_into_high_order</a> (accepting pure and mixed meshes).</li>
<li><span class="tt">cm2::meshtools2d::convert_T6</span>, <span class="tt">cm2::meshtools2d::convert_Q9</span> and <span class="tt">cm2::meshtools2d::convert_Q9T6</span> unified into new <a class="el" href="namespacecm2_1_1meshtools2d.html#ab77554a8921b0f2f093ddf726b600b8a" title="Splits CM2_FACET6 and CM2_FACEQ9 elements into linear elements (CM2_FACET3 and CM2_FACEQ4).">cm2::meshtools2d::split_into_linear</a> (accepting pure and mixed meshes). <br  />
 Note also the new <a class="el" href="namespacecm2_1_1meshtools2d.html#a83d540b5f240982f4370f9d325b5085d" title="Converts in-place CM2_FACET3 and CM2_FACEQ4 elements into CM2_FACET6 and CM2_FACEQ9 elements,...">cm2::meshtools2d::convert_into_quadratic</a> (see <a class="el" href="#MT510new">New features</a> above).</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a642e10128e5dee37fdc09fb1b1d97dd1" title="Transforms a mixed linear 2-D mesh into a all-quad linear mesh by splitting each triangle into three ...">cm2::meshtools2d::split_into_Q4</a>: parameters <span class="tt">const UIntMat&amp; connectQ4, const UIntMat&amp; connectT3</span> unified into <span class="tt">const UIntMat&amp; connectM</span> (accepting pure and mixed meshes).</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a60288016386dac86008640276707fca2" title="Splits quads into triangles (2 triangles each).">cm2::meshtools2d::split_Q4_into_T3</a>: new parameter <span class="tt">min_Q4_warp_quality</span> to set a max limit on the warpage of the quadrangles. Quads with greater warpage are split.</li>
<li><span class="tt">cm2::meshtools3d::convert_TH4</span>, <span class="tt">cm2::meshtools3d::convert_P5</span>, <span class="tt">cm2::meshtools3d::convert_W6</span> and <span class="tt">cm2::meshtools3d::convert_mixed</span> unified into new <a class="el" href="namespacecm2_1_1meshtools3d.html#a6d6434123de1ce041638fca640db28d8" title="Converts CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into higher degree elements (suc...">cm2::meshtools3d::convert_into_high_order</a> (accepting some pure and mixed meshes). <br  />
 Note also the new <a class="el" href="namespacecm2_1_1meshtools3d.html#a9c61263856be3021eea87a00da25d5e9" title="Converts in-place CM2_TETRA4, CM2_PYRAMID5, CM2_WEDGE6 and CM2_HEXA8 elements into CM2_TETRA10 elemen...">cm2::meshtools3d::convert_into_quadratic</a> (see <a class="el" href="#MT510new">New features</a> above).</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#a2d7481e27495a474b56a0c3c5cca83be" title="Transforms a mixed 3-D mesh (without any pyramid!) into a all-hex mesh by splitting each tetrahedron ...">cm2::meshtools3d::split_into_H8</a>: unified parameters (accepting some pure and mixed meshes, but still no pyramid).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT503"></a>
CM2 MeshTools Release 5.0.3</h1>
<p>February, 2021.</p>
<h2 class="doxsection"><a class="anchor" id="MT503caveats"></a>
Caveats</h2>
<ul>
<li>Minor version. Client applications don't need to be recompiled against this update.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT503fixes"></a>
Fixes</h2>
<ul>
<li>All meshers (source code):<ul>
<li>Fixes in static builds configurations.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>:<ul>
<li>Bug in <span class="tt">REGULARIZE_MODE</span> (<span class="tt">CM2_INTERNAL_ERROR</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Rare crash in initial clean-up step and in final optimization.</li>
<li>Errors sometimes in <span class="tt">data.colors_in</span> (with <span class="tt">settings.initial_cleanup_flag = true</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>False warning -11 <span class="tt">CM2_FAILED_SURFACES_WARNING</span> with collapsed (degenerated) surfaces.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>: failed to read small-field multi-lined formatted files.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT500"></a>
CM2 MeshTools Release 5.0.0</h1>
<p>August, 2020.</p>
<h2 class="doxsection"><a class="anchor" id="MT500caveats"></a>
Caveats</h2>
<ul>
<li>Major version. Due to changes in the API, client applications must be recompiled against the new headers.</li>
<li>Lib names now end with <span class="tt">_50</span> (unified with CM2 FEM).</li>
<li>The name of several tools has changed:<ul>
<li>For <a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a> and <a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Iso</a>: <span class="tt">_iso</span> should be added now to the include file, the namespace and the lib names. <br  />
 For instance, you should now include <span class="tt"><a class="el" href="triamesh__iso_8h.html" title="File to include the cm2::triamesh_iso::mesher and related structs.">triamesh_iso.h</a></span>, use namespace <span class="tt"><a class="el" href="namespacecm2_1_1triamesh__iso.html" title="Namespace for the triangle isotropic mesher.">cm2::triamesh_iso</a></span>, link against <span class="tt">cm2triamesh_iso_x64_50.lib</span> and run with <span class="tt">cm2triamesh_iso_x64_50.dll</span> (for the Win x64 build).</li>
<li>For <a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> and <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4 </a>: <span class="tt">_</span> should be removed between <span class="tt">surf</span> and <span class="tt">remesh</span>. <br  />
 You should include now <span class="tt"><a class="el" href="surfremesh__t3_8h.html" title="File to include the cm2::surfremesh_t3 classes &amp; routines.">surfremesh_t3.h</a></span>, use namespace <span class="tt"><a class="el" href="namespacecm2_1_1surfremesh__t3.html" title="Namespace for the 3d-surface triangle remesher.">cm2::surfremesh_t3</a></span>, link against <span class="tt">cm2surfremesh_t3_x64_50.lib</span> and run with <span class="tt">cm2surfremesh_t3_x64_50.dll</span> (for the x64 build).</li>
<li>Same for <a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a> and <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4 </a>: <span class="tt">_</span> should be removed between <span class="tt">surf</span> and <span class="tt">mesh</span>.</li>
</ul>
</li>
<li>Port to GCC 10 and clang 10 with new builds (Linux 32/64 and macOS).</li>
<li>GCC 5.3 builds removed.</li>
<li>Visual Studio 2010 and GCC 4.8 are deprecated and will be no longer supported in future versions.</li>
<li>Linux x86 (32-bit) builds shall be soon deprecated.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT500new"></a>
New features</h2>
<ul>
<li>All meshers:<ul>
<li>Background meshes and <span class="tt">target_metric</span> are no longer mutually exclusive. <br  />
 The metric sizes of the background mesh will apply on the part covered by the background mesh and the rest of the domain will tend to the <span class="tt">target_metric</span> mesh size (with progressive gradation controlled by <span class="tt">max_gradation</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (still experimental):<ul>
<li>The mesh sizes along curves are now affected by proximity to other curves making the meshes smoother.</li>
<li>The mesh sizes along surfaces are now affected by curvatures of adjacent surfaces making the meshes smoother.</li>
<li>Now able to generate quadratic elements (T6, Q8, Q9, Q8T6 and Q9T6). <br  />
 This feature is controlled by the new <span class="tt">settings_type::high_order_type</span> (defaults to linear elements as before) and <span class="tt">settings_type::high_order_mode</span> (defaults to high-order nodes positioned onto the surfaces).</li>
<li>The CAD kernel is now wrapped in a single interface making the port to different kernels easier. <br  />
 At present only the interface to Open CASCADE(R) is provided.</li>
<li>The generation is now OMP-parallelized (loop over the surfaces). <br  />
 This is beneficial for CAD models with more than one surface. <br  />
 A 2x to 4x speed-up can be expected on most models (with several surfaces and a CPU with &gt;= 4 cores).</li>
<li>New output <span class="tt">data_type::connectE</span> for the edge meshes along the curves.</li>
<li>New output <span class="tt">data_type::colorsE</span> for the curve IDs associated to the curve edges (similar to <span class="tt">data_type::colors</span> for the surface IDs associated to the face elements).</li>
<li>Port to Linux and macOS.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>The remeshing step (usually the longest step) is now OMP-parallelized (loop over the patches). <br  />
 This is beneficial for models with more than one patch. <br  />
 A 1.5x to 3x speed-up can be expected on most models (with several patches and a CPU with &gt;= 4 cores). <br  />
 Note that the partitioning step and the final optimization step are still to be parallelized.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a4306f1d1893833b24a32645f4321bfa1" title="The Eigen values (increasing order) of a 2x2 symmetric matrix.">cm2::meshtools::eigen_values</a> functions to compute Eigen values only of 2x2 symmetric and 3x3 symmetric matrices.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT500improv"></a>
Improvements</h2>
<ul>
<li>All meshers:<ul>
<li>Speed-ups and reduced memory consumption in the optimization step for big meshes (more than 1E6 elements).</li>
<li>Speed-ups with very numerous subdomains (noticeable when over several hundreds).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Faster hard-constraints enforcement scheme with much fewer Steiner nodes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (still experimental):<ul>
<li>Mesh quality improvements on periodic surfaces with singularities (spheres, cones...)</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Some speed-ups on one thread (10% on average, on top of OMP parallelization).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Much fewer quads in all-quad mode on difficult cases.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT500fixes"></a>
Fixes</h2>
<ul>
<li>All meshers:<ul>
<li>Minor fixes (<span class="tt">data_type::hard_edges_out</span>, <span class="tt">data_type::hard_faces_out</span>, cosmetics...)</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh Iso</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh Iso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Repulsive points didn't work well.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh Iso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Grid-like (i.e. structured) meshes were generated sometimes where a Delaunay mesh would have been more suitable. <br  />
 And conversely.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (still experimental):<ul>
<li>The isotropic chordal control (<span class="tt">chordal_control_type</span> = 1 or 3) was bogus giving quite bad meshes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (still experimental):<ul>
<li>Triangles were not gathered at the end of the <span class="tt">data_type::connectM</span> matrix but interleaved between quads (when <span class="tt">settings_type::all_quad_flag = false</span>). <br  />
 Consequently, the member <span class="tt">data_type::extract (DoubleMat&amp; pos, UIntMat&amp; connectQ, UIntMat&amp; connectT)</span> was bogus.</li>
<li>In all-quad mode: could completely fail on periodic surfaces with singularities (now allows a few triangles and reports a <span class="tt">CM2_DEGENERATED_ELEMENT</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Flat surfaces could be strangely partitioned leading to bad remeshings (stitches across the surfaces).</li>
<li>Problem with user-defined metrics along skeleton lines.</li>
<li>Some output skeleton edges could be degenerated or even pathological (IDs equal to -1).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1layers__2d_1_1mesher.html">CM2 Layers2D</a>:<ul>
<li>Fix irregular strange layers in some cases (curved boundaries with shallow convex and shallow concave parts).</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a0536f32c272e45423f55324ed26919b0" title="Computes the nodes connected to each node (nodal graph).">cm2::meshtools::get_node_graph</a>: used to consider each element as a clique (all nodes connected). <br  />
 This is valid only for simplex types (edge, triangle, tetrahedron).<br  />
 A new parameter <span class="tt">element_type FE_type</span> was added to deal properly with non-simplex types. <br  />
 Note that you can get back the former behaviour (all nodes connected inside each element) by specifying <span class="tt">FE_type = CM2_UNKNOWN_ELEMENT_TYPE</span>.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT500breaks"></a>
Breaking changes</h2>
<ul>
<li>All meshers:<ul>
<li><span class="tt">data_type::MODE_ERROR</span> is deprecated. Use <span class="tt">data_type::SETTINGS_ERROR</span> instead.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (still experimental):<ul>
<li><span class="tt">data_type::nefs_T3</span> (resp. <span class="tt">nefs_Q4</span>, <span class="tt">area_T3</span>, <span class="tt">area_Q4</span>) replaced with <span class="tt">data_type::nefs_T</span> (resp. <span class="tt">nefs_Q</span>, <span class="tt">area_T</span>, <span class="tt">area_Q</span>).</li>
<li>The <span class="tt">data_type::failed</span> array changed to <a class="elRef" target="_blank" href="../../math1/html/group___vector_variable_inst.html#ga4eb6f716d88acbdaa97795b408a6b9e7">cm2::UIntVec</a> (was <a class="elRef" target="_blank" href="../../math1/html/group___matrix_variable_inst.html#gab32ab2d5ce7992e80825b9eee54f0354">cm2::UIntMat</a>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>The formulas for substitutes to default <span class="tt">settings.min_h</span> and <span class="tt">settings.max_h</span> have changed. They now take into account also <span class="tt">data_type::metrics</span>. <br  />
 We still recommend to overwrite <span class="tt">settings.min_h</span> and <span class="tt">settings.max_h</span> yourself with sound values instead of leaving the defaults (<span class="tt">0</span> and <span class="tt">DBL_MAX</span>).</li>
<li><span class="tt">data_type::analysis_time</span> replaced with <span class="tt">data_type::partition_time</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>The <span class="tt">settings.fix_flag</span> (default = <span class="tt">true</span>) is renamed <span class="tt">settings.dry_run_flag</span> (default = <span class="tt">false</span>).</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: the template class <span class="tt">Curve</span> now requires members <span class="tt">Curve::get_tangents</span> and <span class="tt">Curve::get_curvatures</span> instead of <span class="tt">Curve::get_local_bases</span> and <span class="tt">Curve::get_local_curvatures</span> (just name changes).</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>: the template class <span class="tt">Surface</span> now requires members <span class="tt">Surface::get_tangents</span> and <span class="tt">Surface::get_curvatures</span> instead of <span class="tt">Surface::get_local_bases</span> and <span class="tt">Surface::get_local_curvatures</span> (just name changes).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT490"></a>
CM2 MeshTools Release 4.9.0</h1>
<p>May, 2019.</p>
<p>Major version.<br  />
Due to changes in the API, client applications must be recompiled against the new headers. <br  />
 </p>
<h2 class="doxsection"><a class="anchor" id="MT490caveats"></a>
Caveats</h2>
<ul>
<li>Lib names now end with <span class="tt">_49</span>.</li>
<li>New Visual Studio 2019 builds (Win 32/64).</li>
<li>New GCC 7 and GCC 8 builds (Linux 32/64).</li>
<li>Visual Studio &lt; 2010 and GCC &lt; 4.8 are no longer supported (minimum versions raised to Visual Studio 2010 and GCC 4.8).</li>
<li>The Visual Studio 2019 builds target Windows 7 or later. Windows XP is still supported for the Visual Studio builds &lt;= 2017 but deprecated.</li>
<li>macOS &lt; 10.9 is no longer supported (minimum deployment target raised to 10.9 Mavericks).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT490new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>New <span class="tt">settings.fix_flag</span> (default = <span class="tt">true</span>) to allow for dry-run of the intersector when unset (<span class="tt">false</span>) and to only report pathologies without attempting to fix them.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (still experimental):<ul>
<li>Now able to mesh directly from a <span class="tt">TopoDS_Shape</span>.</li>
<li>Upgraded to OpenCascade(R) 7.3.0.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a6f88578d90c78dc125171fb38dd873dc" title="Interpolates a scalar field (doubles) defined on the nodes of a plane mesh (all-triangle,...">cm2::meshtools2d::interpolate</a> now works with all-quad and mixed meshes (used to work only with all-triangle meshes).</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a1309d5cabee4ccb4033f12d2fa81f5f5" title="Interpolates a field of isotropic metrics defined on a plane mesh.">cm2::meshtools2d::interpolate_metrics</a> now works with all-quad and mixed meshes (used to work only with all-triangle meshes).</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#ac0e946b5c44b757416f7aa3a65780b34" title="Duplicates the nodes of a surface mesh embedded inside a solid mesh and change accordingly the connec...">cm2::meshtools3d::duplicate_surface_nodes</a> generalizes the former <span class="tt">meshtools3d::duplicate_surface_nodes_TH4</span> to H8 and mixed solid meshes.</li>
<li>Port to Visual Studio 2019, GCC 7, GCC 8.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT490improv"></a>
Improvements</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Proximity detection between skeleton lines leading to finer and better meshes near small geometric features (ridges, fillets, holes...) <br  />
 This tends however to generate more elements. <br  />
 To mitigate this, use <span class="tt">settings.target_h</span> (set for instance <span class="tt">target_h = max_h</span>).</li>
<li>Massive speed-ups for some terrain-like surfaces.</li>
<li>User-defined mesh sizes better taken into account.</li>
<li>Speed-ups with frozen triangles.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Enforcement of hard constraints fortified further (and sometimes much faster).</li>
<li>Better minimum shape quality on difficult cases.</li>
<li>In <span class="tt">CONVEX_HULL_MODE</span>, optimisations (local remeshings only) are now performed in accordance with <span class="tt">settings.optim_level</span> (none was performed before).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Much fewer remaining pathologies on difficult cases.</li>
<li>Significant speed-ups.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Fewer missing wall-quads when <span class="tt">settings.make_conformal_flag = false</span>.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT490fixes"></a>
Fixes</h2>
<ul>
<li>All meshers:<ul>
<li>Crash in convex-hull mode when nodes were aligned.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>: <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li><span class="tt">settings.node_smoothing_flag</span> didn't work in <span class="tt">REGULARIZE_MODE</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>: <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Fix in convex-hull mode when <span class="tt">settings.strict_constraints_flag = true</span>. <br  />
 The convex-hull wasn't always exact, i.e. some (small) concavities could have been left.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Metrics on user-defined hard nodes were poorly taken into account (when close to some skeleton lines).</li>
<li>Skeleton lines poorly remeshed sometimes.</li>
<li><span class="tt">settings.node_smoothing_flag</span> didn't work with <span class="tt">settings.refine_flag = false</span>.</li>
<li>Some initial elements could be uncolored in <span class="tt">data_type::colors_in</span>.</li>
<li>Nodes sometimes not on the initial surface with spurious chordal error.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>In all-quad mode, could fail on a simple one-quad mesh.</li>
<li><span class="tt">settings_type::min_Q4_angle_quality</span> didn't work as expected.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li><span class="tt">CM2_INTERNAL_ERROR</span> (Wall-triangle missing) sometimes.</li>
<li>Uninitialized-read fixed.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ae14ef44e15248b8224b5203f43886703" title="Generates 3-D anisotropic metrics for a given line mesh.">cm2::meshtools1d::metrics_gen_aniso3d</a>: bug when <span class="tt">hb &lt; 0</span>.</li>
<li>Fixes in <a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a> and <a class="el" href="namespacecm2_1_1meshtools.html#a19d082033e3224535ff92c14f733e053" title="FEMAP input of a mesh (single type of element).">cm2::meshtools::FEMAP_input</a>.</li>
<li>Fix in <a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a> with <span class="tt">target_metric</span> and embedded hard nodes (<span class="tt">isolated_nodes</span>).</li>
<li>Doc fixes and clarifications.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT490breaks"></a>
Breaking changes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Many changes especially in the mesh-partitioning algorithm and new proximity detection between skeleton lines. <br  />
 The latter tends however to generate more elements with default setting of <span class="tt">target_h = 0</span>. <br  />
 To mitigate this, set <span class="tt">settings.target_h</span> to a realistic mesh size (such as for instance <span class="tt">target_h = max_h</span>).</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li>cm2::meshtools3d::duplicate_surface_nodes_TH4 replaced with <a class="el" href="namespacecm2_1_1meshtools3d.html#ac0e946b5c44b757416f7aa3a65780b34" title="Duplicates the nodes of a surface mesh embedded inside a solid mesh and change accordingly the connec...">cm2::meshtools3d::duplicate_surface_nodes</a> (now generalized to H8 and mixed solid meshes).</li>
<li>Now built on Windows with <span class="tt">UNICODE</span> encoding setting (used to be <span class="tt">MBCS</span>). <br  />
 This may impact functions taking a filename as argument (<a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a> and siblings).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT480"></a>
CM2 MeshTools Release 4.8.0</h1>
<p>December, 2017.</p>
<p>Major version.<br  />
Due to changes in the API, client applications must be recompiled against the new headers.</p>
<h2 class="doxsection"><a class="anchor" id="MT480caveats"></a>
Caveats</h2>
<ul>
<li>Lib names now end with <span class="tt">_48</span> for this series.</li>
<li>New Visual Studio 2017 builds (Win32, Win64, MD, MT).</li>
<li>New GCC 5 &amp; 6 builds (Linux86, Linux64).</li>
<li>Visual Studio &lt; 2010 and GCC &lt; 4.8 are deprecated and will be no longer supported in future versions. <br  />
 In the long term, C++98 will be deprecated. C++11-compliant compilers (for instance Visual Studio &gt;= 2015) will be required to compile the source code of CM2 but also to compile against its API.</li>
<li>Windows XP is deprecated and will be no longer supported in future versions.</li>
<li>macOS &lt; 10.9 is deprecated and will be no longer supported in future versions (minimum deployment target will raise to 10.9 Mavericks).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT480breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>Type <span class="tt">operating_mode_type</span> renamed <span class="tt">settings_type</span>. <br  />
</li>
<li>Field <span class="tt">mode</span> renamed <span class="tt">settings</span>. <br  />
</li>
</ul>
</li>
<li><b>All meshers (except Intersect and Layers)</b>:<ul>
<li>In strict-constraints mode (<span class="tt">settings_type::strict_constraints_flag = true</span>) the meshers no longer raise an error in case of entity located outside the meshed domain. <br  />
 They now raise only a <span class="tt">CM2_NODE_DISCARDED</span>, <span class="tt">CM2_EDGE_DISCARDED</span> or <span class="tt">CM2_FACE_DISCARDED</span> warning. <br  />
 Missing entities are still reported in <span class="tt">unenforced_node_IDs</span>, <span class="tt">unenforced_edge_IDs</span> and <span class="tt">unenforced_boundary_IDs</span> as before (and if <span class="tt">settings_type::strict_constraints_flag = true</span>). <br  />
 An error is now returned only when an intersection/overlapping is detected.</li>
<li>Some warning precedence changes.</li>
<li>In <span class="tt">CONVEX_HULL_MODE</span>, the edges (and faces in 3D) used to be discarded. <br  />
 Only the nodes of <span class="tt">data_type::connectB</span> (and <span class="tt">data_type::connectE</span> in 3D) were used to triangulate the hull. <br  />
 Now when <span class="tt">strict_constraints_flag = true</span> (the default), edges and faces intern to the convex hull are also enforced if possible (i.e. when there is no intersection, and no Steiner node required in 3D). <br  />
 Unenforced entities are now also reported in <span class="tt">data_type::unenforced_boundary_IDs</span> (and <span class="tt">data_type::unenforced_edge_IDs</span> in 3D). <br  />
 If edges and faces are of no interest to you, you can save CPU time by putting nodes in <span class="tt">data_type::isolated_nodes</span> only and clearing <span class="tt">data_type::connectB</span> (and <span class="tt">data_type::connectE</span> in 3D).</li>
<li>More stringent shape-quality formulas for warped quads and warped solids (gives now smaller values).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>: <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li><span class="tt">settings_type::target_metric</span> was discarded when <span class="tt">settings_type::structured_pattern</span> (resp. <span class="tt">settings_type::structured_flag</span>) was set. <br  />
 Now it's the opposite : structured meshing is discarded when a valid target metric is set. <br  />
 You still cannot force a structured mesh and a target metric altogether.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>The <span class="tt">max_gradation</span> parameter is split into <span class="tt">max_gradation_1d</span> (to cap gradations along skeleton lines) and <span class="tt">max_gradation_2d</span> (to cap gradations inside patches). <br  />
 Mesh sizes are linearly interpolated along skeleton lines when <span class="tt">max_gradation_1d = 0</span> and inside patches when <span class="tt">max_gradation_2d = 0</span>.</li>
<li>The <span class="tt">max_gradation</span> parameter was used to smooth the user-defined metrics. This is no longer the case. <br  />
 The remesher now follows the user-defined metrics as they are defined. <br  />
 <span class="tt">max_gradation_1d</span> is still used to smooth metrics induced by curvature chordal control (induced by <span class="tt">max_chordal_error</span>). <br  />
 <span class="tt">max_gradation_2d</span> is still used to smooth mesh sizes towards <span class="tt">target_h</span> (if specified).</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a422acbc0beed54cbefa4cbea34bb539f" title="Computes the shape qualities of all elements of a mesh.">cm2::meshtools::shape_qualities</a> for several connectivity matrices removed (can be replaced simply by appending successively the shape-qualities vector for each connectivity matrix).</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a176b3174758bb612ee090ebfb64648b7" title="Merges points that are closer to each other than a given distance.">cm2::meshtools::merge</a>: slight change in merging order and in default parameters.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT480new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>New parameters <span class="tt">max_gradation_1d</span> (to cap gradations along skeleton lines) and <span class="tt">max_gradation_2d</span> (to cap gradations inside patches) replacing old <span class="tt">max_gradation</span>. <br  />
 Default to 0.5 as before.</li>
<li>New <span class="tt">force_deep_analyzing_flag</span> (default = <span class="tt">false</span>, should normally not be changed) to short-cut the smart patch-finding algorithm into a more brute-force algorithm.</li>
<li>New <span class="tt">notch_closing_flag</span> (default = <span class="tt">true</span>) to allow the closing of notches during the clean-up phase. <br  />
 This triggers a specific algorithm to close open nodes (merged to the closest open nodes). <br  />
 Was always on in previous versions.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a> now work with:<ul>
<li>10-node tetrahedrons (<span class="tt">CTETRA</span> = <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba28f844edaff5472890eb31bed467c608" title="10-NODE TETRAHEDRON (QUADRATIC GEOMETRY).">cm2::CM2_TETRA10</a>).</li>
<li>13-node and 14-node pyramids (<span class="tt">CPYRAM</span> = <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbab7133e39746e7e1991d9075142b8fa35" title="13-NODE PYRAMID (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_PYRAMID13</a>, <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba0668997c3031b8523c75e7d3eaccf665" title="14-NODE PYRAMID (QUADRATIC GEOMETRY).">cm2::CM2_PYRAMID14</a>).</li>
<li>15-node and 18-node wedges (<span class="tt">CPENTA</span> = <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbab76967cfe66327e4780ab0aa48d5fd7d" title="15-NODE WEDGE (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_WEDGE15</a>, <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba68afb128ff7d17628d20f96ca7af8302" title="18-NODE WEDGE (QUADRATIC GEOMETRY).">cm2::CM2_WEDGE18</a>).</li>
<li>20-node and 27-node hexahedrons (<span class="tt">CHEXA</span> = <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbae619f9019f81b725cdd64fa2e4f4e401" title="20-NODE HEXAHEDRON (SERENDIPITY, NOT USED IN CM2 FEM).">cm2::CM2_HEXA20</a>, <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba7f026c1608282e79fc95937428f851d8" title="27-NODE HEXAHEDRON (QUADRATIC GEOMETRY).">cm2::CM2_HEXA27</a>).</li>
</ul>
</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a99285f954a8c8cf4f830fda2e8f5c379" title="Computes the jacobians of all elements of a mesh.">cm2::meshtools::jacobians</a> to compute jacobians (at centroid) of elements <br  />
 (linear elements only).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT480improv"></a>
Improvements</h2>
<ul>
<li><b>All meshers</b> with background mesh:<ul>
<li>Massive speed-ups vs 4.7 (sometimes more than +200%) in some corner cases (when the bgm is filled with high-aspect ratio elements).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Shape-quality improvements (especially when <span class="tt">make_conformal_flag = false</span>).</li>
<li>Fewer low-order elements (tetrahedrons and pyramids).</li>
<li>Significant speed-ups (between 15% to more than 50% vs 4.7).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Hard faces/edges/nodes enforcement: faster and fortified.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Many improvements: faster, more robust, fewer remaining pathologies in hard cases.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Lower peak memory usage (up to 30% less).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Very significant speed-ups vs 4.7 especially for models with flat patches (massive, up to 400% for purely flat surfaces).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Massive speed-ups (sometimes more than +200% vs 4.7) in some corner cases due to improvements in background-mesh processing (see above).</li>
<li>Significant speed-ups (between 15% to 40% vs 4.7) in regular cases due to improvements in <a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a> (see below).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a><ul>
<li>Two new transformation patterns in the optimization step.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>: faster background mesh generation.</li>
<li>COM wrappers updated.</li>
<li>Port to Visual Studio 2017.</li>
<li>Doc fixes and clarifications.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT480fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers</b> (especially CM2 TetraMesh, CM2 TetraMesh Aniso, CM2 HexaMesh):<ul>
<li>Improved robustness: on very difficult cases, could have generated invalid elements, hang on infinite loop or crash.</li>
<li>Could have reserved some excessive amounts of memory with <span class="tt">target_metric</span> set, leading sometimes to a meshing failure with <span class="tt">CM2_SYSTEM_MEMORY_ERROR</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Background mesh was discarded in <span class="tt">REGULARIZE_MODE</span>.</li>
<li>With <span class="tt">make_conformal_flag = false</span>, could have generated some non semi-conformities. <br  />
 In the default mode (<span class="tt">make_conformal_flag = true</span>), the mesher generates only fully conformal T3-T3 and Q4-Q4 joints. <br  />
 In the non-conformal mode (<span class="tt">make_conformal_flag = false</span>), joints between a Q4 and two T3s (semi-conformal joints) are also allowed giving the mesher much more opportunities to reduce the number of tetrahedrons and pyramids. <br  />
 In this mode however, some (few) Q4-Q4 jointed only by three nodes <br  />
 (non semi-conformal joints) could have showed up (now fixed). <br  />
</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>, <a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Degenerated input hard faces crashed the meshers.</li>
<li>Enforcement of constrained edges could take an excessive amount of time with long edges close to many short edges (longer by a magnitude of 20 or more).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Mesher failed sometimes during the front-mesh step (failed to enforce all boundary faces) whereas the iso counterpart mesher succeeded. <br  />
 Now both flavors of mesher behave similarly with this respect.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Some shape quality issues with <span class="tt">target_metric</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>The interrupt handler, if any, was never called.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li><span class="tt">data_type::interpolate_field</span> was not properly computed on new nodes.</li>
<li><span class="tt">data_type::interpolate_field</span> could crash the remeshers.</li>
<li>Could have failed to optimize with <span class="tt">settings.remesh_flag = false</span>.</li>
<li>Strange position for some nodes sometimes (not on the initial surface, causing spurious chordal error).</li>
<li>Members <span class="tt">data_type::IDs_sorted_by_color_in</span> and <span class="tt">data_type::skeleton_IDs_sorted_by_color_in</span> could have failed with <span class="tt">settings.initial_cleanup_flag = true</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Orientation of faces was erroneously reversed sometimes.</li>
</ul>
</li>
<li><b>Miscellaneous</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ae3975a0c4449edb3843c05447688f0fb" title="Finds positions of values in two vectors.">cm2::meshtools::get_IDs</a>: erroneous indices in <span class="tt">inv_IDs</span> in case of duplicates. <br  />
 In case of duplicates, the indices in <span class="tt">IDs</span> and <span class="tt">inv_IDs</span> are now the lowest matching indices.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT473"></a>
CM2 MeshTools Release 4.7.3</h1>
<p>July, 2017.</p>
<p>Bug-fix update. Client applications don't need to be recompiled against this update.</p>
<h2 class="doxsection"><a class="anchor" id="MT473breaks"></a>
Breaking changes</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT473new"></a>
New features</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT473improv"></a>
Improvements</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT473fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Signal 8 (<span class="tt">SIGFPE</span>) raised in some cases (experienced only on some Linux distributions). <br  />
 This might also happen (although not actually observed) in other meshers with specific user-defined metrics (e.g. highly different metrics on very close boundary nodes).</li>
</ul>
</li>
<li><b>CM2 MeshTools</b>:<ul>
<li>cm2::meshtools3d::duplicate_surface_nodes_TH4: split nodes not properly assigned.</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#ab4fb5cc46e2c1a739f93cfb6bb1fb81d" title="Retrieves the elements sharing at least one specified boundary.">cm2::meshtools::get_elements_on_boundaries</a>: crashed when one node ID in <span class="tt">connectB</span> was larger than <span class="tt">ancestors.size()</span>.</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>: bug with multi-line formats.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT472"></a>
CM2 MeshTools Release 4.7.2</h1>
<p>April, 2017.</p>
<p>Bug-fix update. Client applications don't need to be recompiled against this update.</p>
<h2 class="doxsection"><a class="anchor" id="MT472breaks"></a>
Breaking changes</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT472new"></a>
New features</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT472improv"></a>
Improvements</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT472fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>, <a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>Remaining edges with two hard nodes even with <span class="tt">mode.no_clamped_edges_flag = true</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Erroneous behaviour with <span class="tt">max_chordal_error</span> &lt; -1 (i.e. more than 100% of local curvatures) or with big positive values.</li>
<li>Curvatures could also be not fully properly taken into account due to misleading computation in <a class="el" href="namespacecm2_1_1meshtools1d.html#a8d9ba738dbdc7adda57f8ad1b910ca28" title="Creates a mesh on a poly-spline with specific isotropic sizes defined at the spline points.">cm2::meshtools1d::mesh_spline</a> (see below).</li>
</ul>
</li>
<li><b>All meshers (except Intersect and Layers)</b>:<ul>
<li><span class="tt">mode.node_inserting_flag = false</span> caused excessive CPU usage in optimization step.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li><span class="tt">mode.node_removing_flag = false</span> was not fully obeyed (could still remove nodes).</li>
</ul>
</li>
<li><b>CM2 MeshTools</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a8d9ba738dbdc7adda57f8ad1b910ca28" title="Creates a mesh on a poly-spline with specific isotropic sizes defined at the spline points.">cm2::meshtools1d::mesh_spline</a>: erroneous computations of curvatures in some cases.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: in case of high curvatures in the middle of the curve, <span class="tt">max_gradation</span> didn't reduce the metrics at the first and last nodes when it should have done so. <br  />
 This bug impacted (slightly) CM2 SurfMesh T3&amp;Q4.</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>: bug with free-field format.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT471"></a>
CM2 MeshTools Release 4.7.1</h1>
<p>March, 2017.</p>
<p>Bug-fix update. Client applications don't need to be recompiled against this update.</p>
<h2 class="doxsection"><a class="anchor" id="MT471breaks"></a>
Breaking changes</h2>
<ul>
<li><b>CM2 MeshTools</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a8d9ba738dbdc7adda57f8ad1b910ca28" title="Creates a mesh on a poly-spline with specific isotropic sizes defined at the spline points.">cm2::meshtools1d::mesh_spline</a>: the <span class="tt">max_gradation</span> parameter doesn't apply to the <span class="tt">spline_metrics</span> any more but only to the curvature-induced metrics.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT471new"></a>
New features</h2>
<ul>
<li><b>CM2 MeshTools</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a3caf3853645983804e8af236ad29abd1" title="Approximate nodal curvatures (inverse of radius) along a line mesh.">cm2::meshtools1d::curvatures</a>: now work also when the size of the <span class="tt">nodes</span> array is lesser or equal to 2 (the curvatures are null in these cases).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT471improv"></a>
Improvements</h2>
<ul>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Improvements in the hard-quad enforcement scheme for embedded quads.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT471fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except Intersect and Layers)</b>:<ul>
<li>With a low <span class="tt">target_metric</span>, the mesh generators could reserve an excessive amount of memory (and sometimes fail with a <span class="tt">CM2_SYSTEM_MEMORY_ERROR</span>, mostly on Win32).</li>
<li>Interrupting early a generator (by <span class="tt">mode.interrupt_hdl</span> returning <span class="tt">true</span>) could make it crash.</li>
<li>Parameter <span class="tt">nodes_limit</span> not properly taken into account.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Could generate non-conformal meshes on difficult cases (despite <span class="tt">make_conformal_flag = true</span>).</li>
<li>A bug in the wall-quad enforcement scheme could cause the generator to exit with a <span class="tt">CM2_INTERNAL_ERROR</span>.</li>
<li>A bug in the optimizer could cause the generator to exit with a <span class="tt">CM2_INTERNAL_ERROR</span> (<span class="tt">Wall triangle missing</span>).</li>
<li>A bug in the optimizer could cause the generator to remove some embedded hard edges.</li>
<li>Values in <span class="tt">data_type::colors</span> were jumbled.</li>
<li>Bug with <span class="tt">make_conformal_flag = false</span> (resulting in invalid meshes, invalid colors, crashes...). <br  />
 The number of missing faces was wrong also.</li>
<li>The <span class="tt">progress</span> parameter passed to the interrupt handler was not increasing monotonically.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Wrong number of enforced hard edges (<span class="tt">data.hard_edges_out</span>) in case of unenforced faces.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>In <span class="tt">mode.all_quad_flag = true</span> with embedded nodes, could stop in some cases with <span class="tt">CM2_IRREGULAR_BOUNDARY_ERROR</span> (regression from 4.4.0).</li>
<li>In <span class="tt">mode.all_quad_flag = true</span> with bi-oriented edges, could stop in some cases with <span class="tt">CM2_IRREGULAR_BOUNDARY_ERROR</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Strange localized small elements near closed skeleton lines (when <span class="tt">mode.min_h &lt; mode.max_h</span>).</li>
<li>Irregular mesh sizes along some curved skeleton lines (when <span class="tt">mode.min_h &lt; mode.max_h</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Too coarse meshes along some long curves (see bug <a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a> below).</li>
</ul>
</li>
<li><b>CM2 MeshTools</b>:<ul>
<li>cm2::meshtools3d::duplicate_surface_nodes_TH4: always failed with return code -3.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#ac8378f82a116785c0697291f9b019f56" title="Changes the orientation of the faces in a 2-D mesh (CM2_FACET3, CM2_FACEQ4, CM2_FACE_MIX).">cm2::meshtools2d::flip</a>: wrong behaviour with <span class="tt">FE_type = CM2_FACE_MIX</span> and high-order faces.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>: generation was arbitrary limited to 1000 nodes along each curve. <br  />
 This bug impacted CM2 SurfMesh T3&amp;Q4.</li>
<li>Doc fixes.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT470"></a>
CM2 MeshTools Release 4.7.0</h1>
<p>June, 2016.</p>
<p>Major version.<br  />
Due to changes in the API, client applications must be recompiled against the new headers.</p>
<h2 class="doxsection"><a class="anchor" id="MT470caveats"></a>
Caveats</h2>
<ul>
<li>Lib names now end with <span class="tt">_47</span> for this series.</li>
<li>Visual Studio 2008 is deprecated and will be no longer supported in future versions.</li>
<li>Windows XP is deprecated and will be no longer supported in future versions.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT470breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers (except SurfRemesh, Intersect and Layers)</b>:<ul>
<li>Field <span class="tt">operating_mode_type::reset_external_boundaries_flag</span> removed. <br  />
 This flag was used in <span class="tt">REGULARIZE_MODE</span> to tell the mesher whether it should recompute <br  />
 the boundary (i.e. matrix <span class="tt">connectB</span>) or use the one provided by the user. <br  />
 In the latter case, problems could occur when the user-provided boundary was invalid (not closed or not delimiting properly the various colourized subdomains). <br  />
 Now, matrix <span class="tt">connectB</span> is systematically recomputed in <span class="tt">REGULARIZE_MODE</span> (this is fast enough) taking into account different colourized subdomains and user-provided embedded boundaries if any.</li>
<li>To be consistent with CM2 SurfRemesh, CM2 SurfMesh and CM2 Intersect T3, the subdomains' colour now starts at 0 (used to be 1).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li><span class="tt">operating_mode_type::solid_flag</span> renamed <span class="tt">operating_mode_type::closed_manifold_flag</span> (usage unchanged).</li>
<li><span class="tt">data_type::CM2_NON_MANIFOLD_SOLID_WARNING</span> renamed <span class="tt">data_type::CM2_NON_CLOSED_MANIFOLD_WARNING</span> (usage unchanged).</li>
<li>Default value for <span class="tt">operating_mode_type::max_chordal_error</span> is now <span class="tt">-0.02</span>, i.e. 2% (used to be 5%). <br  />
 This leads to finer meshes along curved skeleton lines.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li><code>meshtools1d::subdivise</code> (typo) renamed <a class="el" href="namespacecm2_1_1meshtools1d.html#a4a90a2b6b5c798483f9af0750c81beb0" title="Subdivides a 1-D line.">cm2::meshtools1d::subdivide</a>.</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a1576a658fa4f676f8e31b431d74a7b27" title="Computes the boundaries of a mesh (boundaries connected to only one element).">cm2::meshtools::get_mesh_bounding_elements</a>: new parameter (out) <code>nbr_elfe_boundaries</code>. <br  />
 The vector of IDs is now composite: <span class="tt">KBs[i] = Ki*nbr_elfe_boundaries + bi</span>. <br  />
 To get the element IDs again, divide <code>KBs</code> with <code>nbr_elfe_boundaries:</code> <span class="tt">Ki = KBs[i] / nbr_elfe_boundaries;</span> <br  />
 To get the local boundary IDs, perform a modulo operation: <span class="tt">bi = KBs[i] % nbr_elfe_boundaries;</span></li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a81ce2a41eb49d731cba5f9cae59a89ed" title="Computes the two approximative principal curvatures (directions and inverse of radii) at each node of...">cm2::meshtools2d::principal_curvatures</a>: ridge nodes are no longer discarded (but low accuracy <br  />
 when curvature directions are out of plane).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT470new"></a>
New features</h2>
<ul>
<li><b>All meshers (except Intersect and Layers)</b>:<ul>
<li>New functions <span class="tt">data_type::IDs_sorted_by_color</span> to retrieve easily the groups of elements with same colour. <br  />
 These functions are straightforwardly based on the new function <a class="el" href="namespacecm2_1_1meshtools.html#ae76fd16d2d9721a18ce7e1aa0e936309" title="Gets the order of elements according to their values.">cm2::meshtools::get_sorted_order</a> (see below) and are provided for convenience only.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>New output vector <span class="tt"><a class="el" href="structcm2_1_1hexamesh__iso_1_1mesher_1_1data__type.html#a397aa21f159eb51bfed89ffe2bec005c" title="The boundaries that intersect other boundary(ies).">cm2::hexamesh_iso::mesher::data_type::pathological_boundary_IDs</a></span> similar to <span class="tt"><a class="el" href="structcm2_1_1tetramesh__iso_1_1mesher_1_1data__type.html#aa5345f9c9cb227c80a374a456d412ef0" title="The boundaries that intersect other boundary(ies).">cm2::tetramesh_iso::mesher::data_type::pathological_boundary_IDs</a></span>. <br  />
 This array gives, upon exit, the sorted IDs (i.e. the column IDs in <span class="tt">data_type::connectB</span>) of the faces that have intersection(s) with some other hard entities (nodes, edges, faces). <br  />
 In strict-constraint mode (<span class="tt">mode.strict_constraints_level &gt; 0</span>), the generator stops with an error when this vector is not empty.</li>
<li>New mode cm2::hexamesh_iso::operating_mode_type::CONVEX_HULL_MODE similar to cm2::tetramesh_iso::operating_mode_type::CONVEX_HULL_MODE. <br  />
 In this mode, the mesher 3-D triangulates a set of nodes (<span class="tt">data_type::connectB</span>, <span class="tt">data_type_connectE</span> and <span class="tt">data_type::isolated_nodes</span>) generating <em>tetrahedrons</em> only.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>New functions <span class="tt">data_type::IDs_sorted_by_color_in</span> and <span class="tt">data_type::sort_by_skeleton_colors_in</span> (resp. <span class="tt">data_type::IDs_sorted_by_color</span> and <span class="tt">data_type::sort_by_skeleton_colors</span>) to retrieve easily the groups of elements in the initial mesh (resp. new mesh) with same colour.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>New function <a class="el" href="namespacecm2_1_1meshtools.html#a3f5fa636b64d28ebb19291b93bb63c65" title="Finds the boundaries between elements of different colors.">cm2::meshtools::get_colors_boundaries</a> to find out the boundaries between elements of different colours.</li>
<li>New function <a class="el" href="namespacecm2_1_1meshtools.html#ab4fb5cc46e2c1a739f93cfb6bb1fb81d" title="Retrieves the elements sharing at least one specified boundary.">cm2::meshtools::get_elements_on_boundaries</a> to find out the elements sharing some specified boundaries (for instance triangles sharing some specific edges or tetrahedrons sharing some specific triangle faces).</li>
<li>New function <a class="el" href="namespacecm2_1_1meshtools.html#ae76fd16d2d9721a18ce7e1aa0e936309" title="Gets the order of elements according to their values.">cm2::meshtools::get_sorted_order</a> to get the order of elements according to their colour.</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a> and <a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a> now support <span class="tt">CPYRAM</span> (and <span class="tt">CPYRA</span>) solid type (linear only). <br  />
 Converted to and from <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba1339f6b041d160333714f9a1a7ddfcf0" title="5-NODE PYRAMID (LINEAR GEOMETRY).">cm2::CM2_PYRAMID5</a> elements.</li>
</ul>
</li>
<li><b>COM interface</b>:<ul>
<li>New project <code>ccm2hexamesh</code> for the COM wrapper to <a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT470improv"></a>
Improvements</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>Some mesh-quality improvements (optimization schemes).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Fewer triangles (-30% on average) in mixed mode (<span class="tt">mode.all_quad_flag = false</span>) on average vs 4.6.0.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Hard-entities (nodes/edges) enforcement scheme fortified.</li>
<li>Improvements in <span class="tt">CONVEX_HULL_MODE</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Fewer tetrahedrons on average vs 4.6.0.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Hard-entities (nodes/edges/faces) enforcement scheme fortified.</li>
<li>Improvements in <span class="tt">CONVEX_HULL_MODE</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Curvatures (like in drill holes) are better taken into account.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Fewer remaining pathologies (hard cases).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfmesh__t3_1_1mesher.html">CM2 SurfMesh T3</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a> (based on <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a> and <a href="http://www.opencascade.org">OpenCascade</a>, still experimental):<ul>
<li>Much fewer elements in most cases due to new anisotropic meshing of curves.</li>
</ul>
</li>
<li><b>CM2 MeshTools (whole library)</b>:<ul>
<li>Port to Intel C++ Composer 16.0, GCC 6.1, clang 3.8.</li>
<li>Doc fixes and improvements.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT470fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Bug in the hard-entities enforcement scheme.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3 </a> &amp; <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>In some circumstances (small, bad isolated patches), the <span class="tt">mode.patch_angle_tolerance</span> was not respected. <br  />
 This could lead to excessive geometric errors.</li>
<li>Hard open nodes could be removed during the clean-up phase. <br  />
 This could also lead to missing hard edges/faces in the final mesh.</li>
<li>With <span class="tt">mode.remesh_flag = false</span> and <span class="tt">mode.optim_level = 0</span>, the <span class="tt">data.colors</span>, <span class="tt">data.skeleton_edges</span> and <span class="tt">data.skeleton_colors</span> vectors were empty upon exit.</li>
<li>The <span class="tt">data_type::hard_faces</span> vector was not saved by <span class="tt">data_type::save</span> nor read by <span class="tt">data_type::load</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>, <a class="el" href="classcm2_1_1surfmesh__q4_1_1mesher.html">CM2 SurfMesh Q4</a>:<ul>
<li>Sometimes thin triangles were preferred to thin quads.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a> and <a class="el" href="namespacecm2_1_1meshtools.html#a098e528b3e0af13cfeca830e91b6128d" title="FEMAP output of a mesh (single type of element).">cm2::meshtools::FEMAP_output</a>: bug with mixed element types (<a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bbae8a09dde5a508a6b3afd0d6b0a070a46" title="ANY LINEAR FACE ELEMENT.">cm2::CM2_FACE_MIX</a>, <a class="el" href="group___f_etypes.html#gga7184c8f700d59fc147878021eef375bba3544056c4843e9cc1c41caf0ce646b29" title="ANY LINEAR SOLID ELEMENT.">cm2::CM2_SOLID_MIX</a>).</li>
</ul>
</li>
<li><b>COM interface</b>:<ul>
<li>Updated and fixes (warning codes, helpstring, version numbers...)</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT461"></a>
CM2 MeshTools Release 4.6.1</h1>
<p>February, 2016.</p>
<p>Bug-fix update. Client applications don't need to be recompiled against this update.</p>
<h2 class="doxsection"><a class="anchor" id="MT461breaks"></a>
Breaking changes</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT461new"></a>
New features</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT461improv"></a>
Improvements</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT461fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except CM2 HexaMesh)</b>:<ul>
<li>In <span class="tt">REGULARIZE_MODE</span>: the background mesh was discarded.</li>
<li>In <span class="tt">MESH_MODE</span>: when <span class="tt">data.background_mesh</span> and <span class="tt">data.connectM</span> shared the same data upon entry, the background mesh was scrambled upon exit (regression).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Could crash in case of unenforced faces (regression).</li>
<li>Wrong number of enforced hard faces (<span class="tt">data.hard_faces_out</span>) and hard edges (<span class="tt">data.hard_edges_out</span>) in case of unenforced faces.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li><span class="tt">data_type::best_achievable_min_quality</span> null in <span class="tt">REGULARIZE_MODE</span> (regression).</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a6f224660380e6bbed011a2cc820fd90d" title="Creates a mesh along a line defined by several geometric points and isotropic metrics.">cm2::meshtools1d::mesh_line</a>: metrics at extremities were not reduced when <span class="tt">max_chordal_error &lt; 0</span>.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT460"></a>
CM2 MeshTools Release 4.6.0</h1>
<p>September, 2015.</p>
<p>Major version.<br  />
Due to changes in the API, client applications must be recompiled against the new headers.</p>
<h2 class="doxsection"><a class="anchor" id="MT460caveats"></a>
Caveats</h2>
<ul>
<li>Lib names suffix is <code>_46</code> for this series.</li>
<li>New Visual Studio 2015 builds (Win32, Win64, MD, MT).</li>
<li>Visual Studio 2005 builds are no longer provided (still available upon request but without support).</li>
<li>Visual Studio 2008 is deprecated and will be no longer supported in future versions.</li>
<li>Windows XP is deprecated and will be no longer supported in future versions.</li>
<li>Source-code licensees:<ul>
<li>CM2 MeshTools can now be compiled using the C++11 standard (the default with Visual Studio &gt;= 2013, <br  />
 but must be explicitly specified in the config makefile for GCC, clang and other compilers).<br  />
 The API is still C++98 compliant.</li>
<li>The solution file is now <code>Cm2.sln</code> (Visual Studio &gt;= 2010). Was <code>Cm2_2010.sln</code>.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT460breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers (except SurfRemesh, Intersect and Layers)</b>:<ul>
<li>Precedence of error/warning codes has changed (again, sorry). <br  />
 In case of empty mesh due to non-closed boundary but with no pathological (i.e. intersecting) hard entity, the meshers used to return a <code>CM2_NODE_ERROR</code>.<br  />
 They now return a <code>CM2_BOUNDARY_ERROR</code> (or <code>CM2_BOUNDARY_WARNING</code> in non-strict mode for 3D meshers).</li>
<li>CM2 MeshTools version number printed by the <code>data_type::print_info</code> member (plus some minor formatting changes).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Used to merge truly coincident nodes during the initial clean-up pass (when <code>mode.initial_cleanup_flag</code> = <span class="tt">true</span>) even if the nodes belonged to different elements. <br  />
 <br  />
 This is no longer the case. This is to preserve geometrically non-manifold surfaces from being transformed into topologically non-manifold surfaces (or into manifold surfaces).<br  />
 Note that you can still merge coincident nodes before the remeshing using <a class="el" href="namespacecm2_1_1meshtools.html#a176b3174758bb612ee090ebfb64648b7" title="Merges points that are closer to each other than a given distance.">cm2::meshtools::merge</a> with parameters <code>distance</code> = <code>0</code> and <code>merge_type</code> = <code>0</code>.</li>
</ul>
</li>
<li><b>CM2 SurfMesh T3, CM2 SurfMesh Q4</b> (based on <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a> and <a href="http://www.opencascade.org">OpenCascade</a>, still experimental):<ul>
<li>Now built against OpenCascade 6.9.0.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li><code>cm2::meshtools1d::metrics_gen_iso</code> removed and replaced with <a class="el" href="namespacecm2_1_1meshtools.html#a37cb00ced35aac0a7008e00c70712c38" title="Generates isotropic metrics on the nodes of a given mesh (1-D, 2-D or 3-D).">cm2::meshtools::metrics_gen_iso</a> generalized to any type of mesh (1-D, 2-D and 3-D).<br  />
 Beside the change of namespace, a new <code>FE_type</code> parameter is now required.</li>
<li><code><a class="el" href="namespacecm2_1_1meshtools1d.html#a3caf3853645983804e8af236ad29abd1" title="Approximate nodal curvatures (inverse of radius) along a line mesh.">cm2::meshtools1d::curvatures</a></code>: curvature for node <code>nodes</code>[i] is now returned at <code>inv_R</code>[i] (used to be at <code>inv_R</code>[nodes[i]]).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT460new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>New <code>CM2_BOUNDARY_WARNING</code> = <code>-14</code> returned when the elements of the boundary are not consistently oriented.</li>
</ul>
</li>
<li><b>CM2 SurfMesh T3, CM2 SurfMesh Q4</b> (based on <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a> and <a href="http://www.opencascade.org">OpenCascade</a>, still experimental):<ul>
<li>New Win64 builds (validated against OpenCascade 6.9.0).</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a37cb00ced35aac0a7008e00c70712c38" title="Generates isotropic metrics on the nodes of a given mesh (1-D, 2-D or 3-D).">cm2::meshtools::metrics_gen_iso</a> working on any type of mesh (1-D, 2-D and 3-D). <br  />
 Replacing former <code>cm2::meshtools1d::metrics_gen_iso</code>.</li>
<li>New <a class="el" href="namespacecm2_1_1meshtools3d.html#adb3557534304ae89235d91f01c3b9747" title="Changes the orientation of the solid elements in a 3-D mesh (CM2_TETRA4, CM2_PYRAMID5,...">cm2::meshtools3d::flip</a> for solid elements.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT460improv"></a>
Improvements</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>Significant speed-ups: from 20% (CM2 TriaMesh) to +60% (CM2 HexaMesh) on average vs 4.5.</li>
<li>Various improvements (generation, optimization).</li>
<li>Source code clean-up.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>, <a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>In non-strict mode, in case of pathological hard faces and multiple subdomains, the mesher could totally discard some subdomains. <br  />
 Now, it tries to fix each pathological subdomain.</li>
<li>In non-strict mode, in case of pathological hard faces and cavities, the mesher could discard the external subdomain and mesh the cavities instead. <br  />
 Now, it tries to fix the external subdomain and, if succeed, empty the cavities.</li>
<li>In non-strict mode, the hard-face enforcement scheme now privileges more the low-ID faces of <code>connectB</code>. <br  />
 When faces are intersecting, priority is given to the first face (the face with lowest column ID <br  />
 in <code>connectB</code>), discarding higher face(s).<br  />
 Note that this prioritization is still not as rigorous as it is in the 2-D meshers(<a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a> and <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>).</li>
<li>Better boundary-fixing algorithm in non-strict mode (giving more "natural" fixings).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>More cases of all-hex structured meshing.</li>
<li>More efficient wall-quad enforcement scheme.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Significant improvements of the meshes.</li>
</ul>
</li>
<li>Port to MS Visual Studio 2015, GCC 5.1, Clang 3.5.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT460fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>In non strict-constraint mode, degenerated boundaries could seriously perturb the mesher (up to abort on error).</li>
<li>Infinite loop in some (rare) cases when compiled with floating math aggressive options.</li>
<li>Address and undefined-behaviour sanitized (with GCC 5.1): potentially serious issues fixed.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Crashed when <code>mode.compute_Qh_flag</code> = <span class="tt">true</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Could crash when the boundary mesh had intersections/overlappings with <code>strict_constraints_mode</code> &gt; 0.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li><span class="tt">CONVEX_HULL_MODE</span> didn't work.</li>
<li>Possible spurious points in <code>data.pos</code> upon exit when <code>mode.multi_structured_flag</code> = true.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Possible wrong timings in <code>data.mesh_time</code> and <code>data.refine_time</code> when <code>mode.multi_structured_flag</code> = true.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Used excessive memory. Could exhaust memory and crash on meshes with a high share of intersections, even medium-sized.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li><a class="el" href="group___f_etypes.html#ga65195fd1dcddd44a021bfd3454066145" title="Gives the dimension of a type of element (0, 1, 2 or 3).">cm2::meshtools::element_dim</a>, <a class="el" href="group___f_etypes.html#ga29c3e5751ebe06f3c70b1d9bdf2445a8" title="Gives the number of nodes for a type of element.">cm2::meshtools::nbr_nodes</a>, <a class="el" href="group___f_etypes.html#ga7da6f4e10fc6f9cd2665ca577e4a6a77" title="Gives the number of base nodes for a type of element.">cm2::meshtools::nbr_base_nodes</a> and <a class="el" href="group___f_etypes.html#ga0668ff5c8eace7c54e2670b487467089" title="Gives the number of boundaries for a type of element.">cm2::meshtools::nbr_boundaries</a> were not exported from dynamic libs.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>: bad mesh size transitions with <code>metrics</code>.</li>
<li>Wrong error codes returned by cm2::meshtools::mesh_line.</li>
<li>Typos and doc fixes.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT451"></a>
CM2 MeshTools Release 4.5.1</h1>
<p>April, 2015.</p>
<p>Bug-fix update. Client applications don't need to be recompiled against this update.</p>
<h2 class="doxsection"><a class="anchor" id="MT451caveats"></a>
Caveats</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT451breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers (except SurfRemesh, Intersect and Layers)</b>:<ul>
<li>The outermost subdomain is now kept in the mesh regardless of the orientation of its elements or the value of <code>subdomains_forcing</code>. <br  />
 A <code>CM2_BOUNDARY_WARNING</code> is returned when the elements of the outermost boundary <br  />
 are not consistently oriented.</li>
<li>Changes in convex-hull meshes due to bug in that mode.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT451new"></a>
New features</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT451improv"></a>
Improvements</h2>
<ul>
<li><b>MeshTools</b>:<ul>
<li>cm2::meshtools1d::mesh_curv_param: can now work with <code>u0</code> &gt; <code>u1</code> (reverse curve).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT451fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except SurfRemesh, Intersect, Layers)</b>:<ul>
<li><code>subdomains_forcing</code> = <code>-1</code> didn't work as expected.</li>
<li>Bug in convex-hull mode.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Could hang on infinite loop (in the optimizer).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>Could fail on almost-degenerated metrics.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Invalid mesh sometimes with <code>structured_flag</code> = <span class="tt">true</span>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Degenerated elements upon entry could lead to opened stitches in the final mesh.</li>
<li>The final optimization scheme could create holes and foldings.</li>
<li>Reproducibility issue.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>cm2::meshtools1d::mesh_curv_param: compilation error with compilers other than MSVC.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>: strange mesh sizes near isolated (embedded) nodes.</li>
<li><a class="el" href="namespacecm2_1_1meshtools3d.html#a106e04ce12c4b5308dbe2774a74ee2c1" title="Extrudes (sweeps) with translation a surface mesh into a structured solid mesh.">cm2::meshtools3d::extrude_translate</a>, <a class="el" href="namespacecm2_1_1meshtools3d.html#a80e9f44181ef2a99e37ab1ba6b78c3e0" title="Extrudes (sweeps) with rotation a surface mesh into a structured solid mesh.">cm2::meshtools3d::extrude_rotate</a> and <a class="el" href="namespacecm2_1_1meshtools3d.html#a216823273a4986bb01c0cd4a8a14d2fb" title="Extrudes (sweeps) with rotation and translation a surface mesh into a structured solid mesh.">cm2::meshtools3d::extrude_spiral</a>:<ul>
<li>Failed when <span class="tt">connect3D</span> was not empty upon entry.</li>
<li>Spurious null points inserted.</li>
</ul>
</li>
<li><a class="el" href="namespacecm2_1_1meshtools.html#a19d082033e3224535ff92c14f733e053" title="FEMAP input of a mesh (single type of element).">cm2::meshtools::FEMAP_input</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a098e528b3e0af13cfeca830e91b6128d" title="FEMAP output of a mesh (single type of element).">cm2::meshtools::FEMAP_output</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a2aab66fb1f42870649065b91055a938a" title="NASTRAN input of a mesh (single type of element).">cm2::meshtools::NASTRAN_input</a>, <a class="el" href="namespacecm2_1_1meshtools.html#a62546410e6c3613c1b112abc6c724f7a" title="NASTRAN output of a mesh (single type of element).">cm2::meshtools::NASTRAN_output</a>: bugs (still experimental).</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT450"></a>
CM2 MeshTools Release 4.5.0</h1>
<p>July, 2014.</p>
<p>Major version.<br  />
Due to changes in the API, client applications must be recompiled against the new headers.</p>
<h2 class="doxsection"><a class="anchor" id="MT450caveats"></a>
Caveats</h2>
<ul>
<li>Lib names suffix is <code>_45</code> for this series.</li>
<li>Platform names and version number also added to the <code></code>.so names (Linux).<br  />
 Names now end with <code>_x86_45</code> on Linux86 and <code>_x64_45</code> on Linux64.</li>
<li>New Visual Studio 2013 builds (Win32, Win64, MD, MT).</li>
<li>Reproducibility extended to Visual Studio 2013 builds (same results on Win32 with all versions from 2003 to 2013 and on Win64 from Visual Studio 2005 to 2013).</li>
<li>Visual Studio 2003 builds are no longer provided (still available upon request but without support).</li>
<li>Visual Studio 2005 is deprecated and will be no longer supported in future versions.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT450breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>Invalid coordinates (<code>NaN</code>, <code>INF</code>, <code>DBL_MAX</code> ...) now raise a <code>DATA_ERROR</code> (used to raise a <code>NODE_ERROR</code>, <code>BOUNDARY_ERROR</code> or crash).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li><code>operating_mode_type::merge_tolerance</code> (used to control nodes merging in the initial and in the final meshes) and <code>operating_mode_type::optim_geometric_tolerance</code> (used to control edges swapping in the final mesh) have been removed. <br  />
 They have been replaced with <code>operating_mode_type::fix_tolerance</code> (to control corrections in the initial mesh) and <code>operating_mode_type::optim_tolerance</code> (to control corrections in the final mesh). <br  />
 The meaning of the sign of <code>operating_mode_type::fix_tolerance</code> and <code>operating_mode_type::optim_tolerance</code> now conforms to the rule used in other functions/components of the CM2 library:<ul>
<li>A negative value means a <em>relative</em> value (relative to <code>operating_mode_type::min_h</code>).</li>
<li>A positive value means an <em>absolute</em> value (used to be the other way round). Please change the sign of these parameters in your code to obey the new rule. <br  />
 The default value for <code>operating_mode_type::optim_tolerance</code> is now <code>-0.05</code> (5% of <code>min_h</code>) (used to be <code>0.01</code>, i.e. 1% of <code>min_h</code>).</li>
</ul>
</li>
<li>The default value for <code>operating_mode_type::patch_angle_tolerance</code> is now <code>20.0</code> degrees (used to be 15.0). <br  />
 This can result in serious changes in the final meshes vs. 4.4. <br  />
</li>
<li>The mesh size doesn't tend toward <code>operating_mode_type::max_h</code> any more in the middle of the patches.<br  />
 To get this behaviour back, you need now to use the new parameter <code>operating_mode_type::target_h</code>.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Default value <code>operating_mode_type::quadrangle_weight</code> is now <code>0.70</code> (instead of <code>0.67</code>).</li>
<li>The shape-quality formula for 3-d warped quads has been modified (more stringent now).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>The shape-quality formulas for warped solids (pyramids, wedges and hexahedrons) have been modified (more stringent now).</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>cm2::meshtools1d::flip_E2 renamed <a class="el" href="namespacecm2_1_1meshtools1d.html#a478e087dab7750a3ead9789c0e6efd7b" title="Changes the orientation of the edges in a connectivity matrix (considered as edges).">cm2::meshtools1d::flip</a>.</li>
<li>cm2::meshtools1d::E3_to_E2 renamed cm2::meshtools1d::E3_to_2E2.</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a8d9ba738dbdc7adda57f8ad1b910ca28" title="Creates a mesh on a poly-spline with specific isotropic sizes defined at the spline points.">cm2::meshtools1d::mesh_spline</a>: new parameters <code>min_h</code>, <code>max_gradation</code> and <code>target_metric</code>.</li>
<li>cm2::meshtools1d::split_Q4_into_T3: new parameter <code>split_criterion</code> to choose the way quads are split into triangles (best triangle quality, best angle quality, smallest area...)</li>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#a6f224660380e6bbed011a2cc820fd90d" title="Creates a mesh along a line defined by several geometric points and isotropic metrics.">cm2::meshtools1d::mesh_line</a> gained a new parameter <code>metrics</code> to return the computed metrics at new nodes.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT450new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>New parameters <code>operating_mode_type::fix_tolerance</code>, <code>operating_mode_type::max_chordal_error</code> (expert users only) and <code>operating_mode_type::optim_tolerance</code> (replacing <code>operating_mode_type::merge_tolerance</code> and <code>operating_mode_type::optim_geometric_tolerance</code>).<br  />
 See <a class="el" href="#MT450breaks">Breaking changes</a> above.</li>
</ul>
</li>
<li><b>COM interface</b>:<ul>
<li>New project <code>ccm2intersect_t3</code> for the COM wrapper to <a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools1d.html#a2fb18aebcbde06ceedaf04d1dc9c470b" title="Changes the orientation of the edges so that all elements have similar orientation as a reference ele...">cm2::meshtools1d::mesh_reorient</a> to reorient edges.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT450improv"></a>
Improvements</h2>
<ul>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Major speed-up (+60% on average vs version 4.4).</li>
<li>Much fewer tetrahedrons and pyramids (-50% on average vs 4.4).</li>
<li>Fewer nodes (-4% on average vs 4.4).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a><ul>
<li>Fewer nodes and elements (-3% on average vs version 4.4).</li>
<li>Fewer "all-clamped" (all hard nodes) elements in default mode (<code>no_clamped_edges_flag</code> = <span class="tt">false</span>).<br  />
 Still no all-clamped element with <code>no_clamped_edges_flag</code> = <span class="tt">true</span>.</li>
<li>Slightly better shape qualities.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>,<ul>
<li>Many improvements regarding the quality of the new meshes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Fewer triangles in mixed T3/Q4 mode (-40% on average vs 4.4) with same or better shape qualities (but noticeable -10% slowdown vs 4.4).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>Better shape qualities.</li>
<li>Slightly fewer elements.</li>
<li>Fewer "all-clamped" (all hard nodes) elements in default mode (<code>no_clamped_edges_flag</code> = <span class="tt">false</span>).<br  />
 Still no all-clamped element with <code>no_clamped_edges_flag</code> = <span class="tt">true</span>.</li>
</ul>
</li>
<li><b>CM2 SurfMesh T3, CM2 SurfMesh Q4</b> (still experimental) based on <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a> and <a href="http://www.opencascade.org">OpenCascade</a>:<ul>
<li>Significant improvements: smoother mesh size gradations, better shape qualities, fewer triangles in mixed T3/Q4 mode (CM2 SurfMesh Q4).</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>Port to MS Visual Studio 2013, GCC 4.9, Clang 3.4 with new Clang-specific makefiles for Linux and Intel Composer XE 2013 (Intel C++ 14.0) with new Intel-specific makefiles for Linux.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT450fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>Invalid coordinates (<code>NaN</code>, <code>INF</code>, <code>DBL_MAX</code> ...) now raise a <code>DATA_ERROR</code> (used to raise a <code>NODE_ERROR</code>, <code>BOUNDARY_ERROR</code> or crash).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Failed to smooth-only meshes (<code>remesh_flag</code> = <span class="tt">false</span>).</li>
<li>Failed to properly remesh plane surfaces sometimes.</li>
<li>Wrong <code>data_type::skeleton_edges</code> sometimes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Missing edge IDs in <code>data_type::pathological_boundary_IDs</code> upon exit.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1intersect__t3_1_1mesher.html">CM2 Intersect T3</a>:<ul>
<li>Could crash.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>:<ul>
<li><code>best_achievable_min_quality</code> was inaccurate (especially when lower than 1E-3).</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li><code>meshtools::STL_input</code> could exit without closing the input file.</li>
<li><code>meshtools::STL_input</code> didn't read past first solid in ASCII mode.</li>
<li>On Linux, <code>libcm2lapack.so</code> exported spurious internal symbols.</li>
<li>Typos and doc fixes.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT441"></a>
CM2 MeshTools Release 4.4.1</h1>
<p>October, 2013.</p>
<p>Bug-fix update. Client applications don't need to be recompiled against this update.</p>
<h2 class="doxsection"><a class="anchor" id="MT441caveats"></a>
Caveats</h2>
<ul>
<li>Some discrepancies in the output meshes should be expected vs. version 4.4.0 (mainly in CM2 SurfRemesh T3/Q4).</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT441breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers (except SurfRemesh, Layers)</b>:<ul>
<li>Changes in error/warning codes returned by the meshers. See <a class="el" href="#MT441fixes">Fixes</a> below.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>In non-strict mode, nodes of hard edges have now higher priority than isolated nodes.<br  />
 As a consequence, boundary nodes coincident with isolated nodes are now kept and the later are discarded.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT441new"></a>
New features</h2>
<ul>
<li>None.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT441improv"></a>
Improvements</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Minor speed-ups (5-10% for CM2 TetraMesh and CM2 HexaMesh, sometimes more for CM2 SurfRemesh T3/Q4).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>More effective enforcement of embedded hard quads.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT441fixes"></a>
Fixes</h2>
<ul>
<li><b>All meshers (except SurfRemesh, Layers)</b>:<ul>
<li>Error in priority of error/warning codes and some regressions in 4.4.0 in this respect.<br  />
 For instance with CM2 TetraMesh, intersecting boundary faces could have raised a <code>CM2_NODE_ERROR</code> in version 4.4.0 <br  />
 (because unenforced faces can lead to non-watertight boundary mesh then to an empty tetra mesh in non-strict mode, hence all hard nodes can be missing). <br  />
 Now a <code>CM2_FACE_ERROR</code> is returned instead.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Could have hung in infinite loop or crash.</li>
<li>Wrong values in <code>data_type::colors_in</code> sometimes.</li>
<li>When skeleton edges were specified upon entry (in <code>skeleton_edges_in</code>), their order was changed upon exit and additional skeleton edges were interleaved between them (regression in 4.4.0 vs 3.9).<br  />
 Now, user-defined skeleton edges remain in the first columns of <code>skeleton_edges_in</code> in an unchanged order, and additional skeleton edges (if any) are appended.</li>
<li>Strange remeshings with user-specified metrics on non-skeleton nodes.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Could fail on <span class="tt">CM2_INTERNAL_ERROR</span> in non-strict mode when some boundary faces were intersecting.</li>
</ul>
</li>
<li><b>COM interface</b>:<ul>
<li>Member <code>set_operating_mode</code> was missing in <code>ccm2surfremesh_t3</code> and <code>ccm2_surfremesh_q4</code>.</li>
</ul>
</li>
<li><b>MeshTools</b>:<ul>
<li>On Linux, the CM2 libs requested <code>libgomp.so</code> (though OMP is not used yet in CM2 MeshTools).<br  />
 This spurious dependency is removed.</li>
</ul>
</li>
</ul>
<hr  />
 <h1 class="doxsection"><a class="anchor" id="MT440"></a>
CM2 MeshTools Release 4.4.0</h1>
<p>July, 2013.</p>
<p>Major version.<br  />
Due to changes in the API, client applications must be recompiled against the new headers.</p>
<h2 class="doxsection"><a class="anchor" id="MT440caveats"></a>
Caveats</h2>
<ul>
<li>Platform name added to the dll and lib filenames (Windows only).<br  />
 Filenames now end with <code>_win32_44</code> on x86 (Win32) and with <code>_x64_44</code> on x64 (Win64) (instead of just <code>_43</code> in the previous version).</li>
<li>New Visual Studio 2012 builds, for Windows XP (with specific Microsoft run-times) and beyond (Vista, Win7 and Win8).</li>
<li>Visual Studio 2003 ML (single-threaded) and GCC 3.3 builds are no longer provided.</li>
<li>Visual Studio 2003 and GCC versions &lt; 4.2 are deprecated and will be no longer supported in future versions.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT440breaks"></a>
Breaking changes</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>The signature of the handlers has changed. It is now: <div class="fragment"><div class="line"><span class="keyword">typedef</span> void (*display_handler_type) (<span class="keywordtype">void</span>* pass_thru, <span class="keywordtype">unsigned</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* msg);</div>
<div class="line"><span class="keyword">typedef</span> bool (*interrupt_handler_type) (<span class="keywordtype">void</span>* pass_thru, <span class="keywordtype">double</span> progress);</div>
</div><!-- fragment --> New <code> void* pass_thru </code> field in all <code>operating_mode_type</code> to be passed to the <code>display_hdl</code> and <code>interrupt_hdl</code> (if any).<br  />
 This permits the user to pass additional information to her/his handlers (address of the calling mesher, pointer to a user-defined struct, pointer to a GUI object...) <br  />
 Example: <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> my_display_hdl (<span class="keywordtype">void</span>* pass_thru, <span class="keywordtype">unsigned</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* msg)</div>
<div class="line">{</div>
<div class="line">   window_type*   my_window = <span class="keyword">static_cast&lt;</span>window_type*<span class="keyword">&gt;</span> (pass_thru);      <span class="comment">// Pointer cast = be careful.</span></div>
<div class="line">   my_window-&gt;show (msg);</div>
<div class="line">}</div>
<div class="line">window_type             my_window;          <span class="comment">// A &quot;window&quot; instance.</span></div>
<div class="line">tetramesh_iso::mesher       my_mesher;</div>
<div class="line">tetramesh_iso::data_type    my_mesh_data(pos, connectB);</div>
<div class="line">my_mesher.mode.display_hdl = &amp;my_display_hdl;</div>
<div class="line">my_mesher.mode.pass_thru = <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(&amp;my_window);</div>
<div class="line">my_mesher.run(my_mesh_data);                <span class="comment">// Will call &quot;my_display_hdl&quot; and pass &quot;pass_thru&quot; to it.</span></div>
</div><!-- fragment --></li>
</ul>
</li>
<li>The data_type::save members use now a default <code>precision</code> = <code>16</code> parameter (formerly 12) and now print a maximum of 6 doubles or 20 integers per line.</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>, <a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh Aniso</a>:<ul>
<li>Hard faces (resp. edges, nodes) dangling outside the domain or in holes were silently discarded. <br  />
 They are now notified in <code>data_type::unenforced_boundary_IDs</code> (resp. <code>data_type::unenforced_edge_IDs</code>, <code>data_type::unenforced_node_IDs</code>).<br  />
 A <code>CM2_FACE_ERROR</code> (resp. <code>CM2_EDGE_ERROR</code>, <code>CM2_NODE_ERROR</code>) or a <code>CM2_FACE_WARNING</code> (resp. <code>CM2_EDGE_WARNING</code>, <code>CM2_NODE_WARNING</code>) is now returned instead depending on the state of the <code>strict_constraints_flag</code>.</li>
</ul>
</li>
<li><b>MeshTools auxiliary libs</b>:<ul>
<li><a class="el" href="namespacecm2_1_1meshtools1d.html#ad5dd28ea584b8de7333025289fb85a63" title="Meshes a parametric 3-D curve (isotropic version).">cm2::meshtools1d::mesh_curve_param</a>:<ul>
<li>Change in the definition of curvature (returned by <code>Curve::get_local_curvatures</code>) to be conform to usual definition (unit = inverse of length).<br  />
 Was: <pre class="fragment">            ||D2P/Du2 x DP/Du||     ||DB/Du x B||
        H = -------------------  =  -------------
                 ||DP/Du||              ||B||
</pre> Is now: <pre class="fragment">            ||D2P/Du2 x DP/Du||     ||DB/Du x B||
        H = -------------------  =  -------------
                 ||DP/Du||3             ||B||3
</pre></li>
<li>Changes in parameters (added: <code>target_h</code>, <code>min_h</code>, <code>max_gradation</code>, removed: optional <code>min_h_ratio</code> and <code>max_h_ratio</code>).</li>
<li>New output vector <code>pos1D</code> to return the curvilinear parameters of the generated nodes along the curve.</li>
</ul>
</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a2d60125bdd31e1830a8178a05b24f943" title="Meshes a parametric 3-D surface using a 2-D anisotropic mesher and mappings.">cm2::meshtools2d::mesh_surface_param</a>:<ul>
<li>The signature of the template class' member <code>Surface::get_2D_coordinates</code> has changed (again) and is back to its original signature <span class="tt">int get_2D_coordinates (const DoubleMat&amp; pos3D, const UIntVec&amp; nodes, DoubleMat&amp; pos2D) const;</span> i.e. the <code>nodes</code> parameter is back.<br  />
 This helps a lot when meshing CAD surfaces (speed-up, higher accuracy, fix problems with trimmed periodic surfaces).</li>
<li>Changes in parameters (added: <code>min_h</code>, removed: optional <code>min_h_ratio</code>, <code>max_h_ratio</code>).</li>
</ul>
</li>
<li>cm2::meshtools::bound_metric_gradation replaced with <a class="el" href="namespacecm2_1_1meshtools.html#ab646c3e8aa22387003ebe9d838ad050e" title="Bounds the metrics in a mesh (isotropic case) so that the H-shocks along all edges are below a given ...">cm2::meshtools::bound_metric_gradations</a> (ending with an <em>s</em>).<br  />
 In addition, a new parameter (<code>sgn</code>) now allows for metric shrinkage only (<code>-1</code>), increase only (<code>+1</code>) or both (<code>0</code> as before).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT440new"></a>
New features</h2>
<ul>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>The remeshers now take into account the user-specified metrics on <em>any</em> node (not only on the skeleton nodes and hard nodes as before).<br  />
 With this new feature, a remeshing according to a complete metric field all over the initial mesh is now possible.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>The shape-quality formulas for pyramids, wedges and hexes have been modified (again).<br  />
 The new formulas are more stringent (elements must be more "regular" to have the same quality value).</li>
</ul>
</li>
<li><b>All meshers</b>:<ul>
<li>New <code>pass_thru</code> parameter in all handlers (see <a class="el" href="#MT440breaks">Breaking changes</a> above).</li>
</ul>
</li>
<li><b>MeshTools auxiliary libs</b>:<ul>
<li>New <a class="el" href="namespacecm2_1_1meshtools.html#a07db252575f1a311df661e798bd29ab0" title="Bounds the metrics in a mesh (isotropic case) so that the H-variations (i.e.">cm2::meshtools::bound_metric_variations</a> similar to <a class="el" href="namespacecm2_1_1meshtools.html#ab646c3e8aa22387003ebe9d838ad050e" title="Bounds the metrics in a mesh (isotropic case) so that the H-shocks along all edges are below a given ...">cm2::meshtools::bound_metric_gradations</a> but for metric <em>gradients</em> bounding (vs. metric <em>shocks</em> bounding).</li>
<li>Some new functions for metric management.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT440improv"></a>
Improvements</h2>
<ul>
<li><b>All meshers</b>:<ul>
<li>Better reproducibility between builds within the same CM2 version number (i.e. same major1 and major2 numbers).<br  />
 Within all Visual Studio Win64 builds (as for today from VS2005 to VS2012), the generated meshes are now identical.<br  />
 The meshes are also identical within all Visual Studio Win32 builds (from VS2003 to VS2012). <br  />
 However, due to differences in FP optimizations (mainly within transcendental functions), meshes may still be (slightly) different between Win32 and Win64 builds, GCC builds (Linux x86 &amp; x86-64) and with other compilers (such as Intel XE Composer). <br  />
 Similarly, changing the compiler's optimization settings (/O, /fp, /arch ...) when recompiling the CM2 library (Source Code licensees) may change the meshers behaviour.<br  />
 Keep also in mind that no reproducibility is to be expected between CM2 major versions or when input data are different (changes as low as one ULP in a node' coordinates or in the nodes/boundary order may lead to significantly different meshes even with the same CM2 build).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>+50% average speed-up vs. version 4.3 with same compilers (up to +100% for meshes &gt; 1E6 elements).</li>
<li>Improvements in the optimization scheme (better meshes, better wall-quad enforcement).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>:<ul>
<li>+25% average speed-up vs. version 4.3 with same compilers (up to +50% for meshes &gt; 1E6 elements).</li>
<li>Improvement in the optimization scheme (slivers are better chased out).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>:<ul>
<li>Enhancements in the optimization scheme (new local transformations) in mixed mode and in all-quad mode.</li>
<li>In case of a background mesh, can now decide between a structured mesh and an unstructured one (choosing the best one according to the BGM metrics).<br  />
 Used to always choose the structured mesh, discarding the BGM (if <code>mode.structured_flag</code> = <span class="tt">true</span>).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>More stringent shape-quality measures (may give lower quality values than before but elements are usually better shaped however).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>:<ul>
<li>New specific edge-swapping step (optimization scheme).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Enhancements in the optimization scheme (for each patch) in mixed mode and in all-quad mode.</li>
<li>Diagonal nodes merging in the final optimization pass (inter-patch optimization) in all-quad mode.</li>
<li>In some cases, all-quad meshing can now be achieved with much fewer elements.</li>
</ul>
</li>
<li><b>MeshTools auxiliary libs</b>:<ul>
<li>Reproducibility (same as above).</li>
<li>The parametric surfaces meshing tool (still experimental) based on CM2 TriaMesh/QuadMesh Aniso and OpenCascade works much better and can now handle periodic surfaces (such as cylinders, spheres...)</li>
<li>Port to MS Visual Studio 2012, GCC 4.7, GCC 4.8 and Intel Composer XE 13 (validated on 13.1 Update 4).</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="MT440fixes"></a>
Fixes</h2>
<ul>
<li><a class="el" href="classcm2_1_1hexamesh__iso_1_1mesher.html">CM2 HexaMesh</a>:<ul>
<li>Could have hung/crashed.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1tetramesh__iso_1_1mesher.html">CM2 TetraMesh</a>, <a class="el" href="classcm2_1_1tetramesh__aniso_1_1mesher.html">CM2 TetraMesh Aniso</a>:<ul>
<li>More robust (could have failed/hung/crashed on some difficult meshes).</li>
<li>Could have failed with <code>FEM_SYSTEM_MEMORY_ERROR</code> although the amount of memory was enough (meshes &gt; 1E6 elements and high differences of size on boundary mesh).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Non reproducibility between runs on the same data (in some cases).</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Could fail in all-quad mode when hard edges were specified by the user.<br  />
 Though this difficult problem is not fully solved yet, this should happen much less often now.</li>
</ul>
</li>
<li><a class="el" href="classcm2_1_1triamesh__iso_1_1mesher.html">CM2 TriaMesh</a>, <a class="el" href="classcm2_1_1triamesh__aniso_1_1mesher.html">CM2 TriaMesh Aniso</a>, <a class="el" href="classcm2_1_1quadmesh__iso_1_1mesher.html">CM2 QuadMesh</a>, <a class="el" href="classcm2_1_1quadmesh__aniso_1_1mesher.html">CM2 QuadMesh Aniso</a>, <a class="el" href="classcm2_1_1surfremesh__t3_1_1mesher.html">CM2 SurfRemesh T3</a>, <a class="el" href="classcm2_1_1surfremesh__q4_1_1mesher.html">CM2 SurfRemesh Q4</a>:<ul>
<li>Meshes were not always structured when possible (and when allowed by <code>mode.structured_flag</code> = <span class="tt">true</span> or <code>mode.structured_pattern</code> &gt;= 0).</li>
</ul>
</li>
<li><b>COM interface</b>:<ul>
<li>Build fixes.</li>
</ul>
</li>
<li><b>MeshTools auxiliary libs</b>:<ul>
<li>Fix in <code>cm2::timer</code> on LINUX/UNIX. Used to give the CPU time instead of wall-clock time and was limited to 72 minutes.</li>
<li>cm2::meshtools1d::metrics_gen_iso: did not change the metrics when positive upon entry.</li>
<li><a class="el" href="namespacecm2_1_1meshtools2d.html#a81ce2a41eb49d731cba5f9cae59a89ed" title="Computes the two approximative principal curvatures (directions and inverse of radii) at each node of...">cm2::meshtools2d::principal_curvatures</a>: bugs fixed.</li>
<li>Doc fixes. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    <a href="https://www.computing-objects.com">Computing Objects SARL</a>, 
    25 rue du Mar&eacute;chal Foch, F-78000 Versailles, France. &copy;&nbsp;1999-2025.
    Generated on Fri Jun 27 2025 16:11:37 by <a href="http://www.doxygen.org">Doxygen</a>. 
    </li>
  </ul>
</div>
</body>
</html>
